<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>MultiAnimTest: C:/Documents and Settings/Lic/My Documents/Visual Studio 2008/Projects/DirectXSamples/MultiAnimation/DXUT/Optional/DXUTcamera.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>C:/Documents and Settings/Lic/My Documents/Visual Studio 2008/Projects/DirectXSamples/MultiAnimation/DXUT/Optional/DXUTcamera.h</h1><a href="_d_x_u_tcamera_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">//--------------------------------------------------------------------------------------</span>
<a name="l00002"></a>00002 <span class="comment">// File: Camera.h</span>
<a name="l00003"></a>00003 <span class="comment">//</span>
<a name="l00004"></a>00004 <span class="comment">// Helper functions for Direct3D programming.</span>
<a name="l00005"></a>00005 <span class="comment">//</span>
<a name="l00006"></a>00006 <span class="comment">// Copyright (c) Microsoft Corporation. All rights reserved</span>
<a name="l00007"></a>00007 <span class="comment">//--------------------------------------------------------------------------------------</span>
<a name="l00008"></a>00008 <span class="preprocessor">#pragma once</span>
<a name="l00009"></a>00009 <span class="preprocessor"></span><span class="preprocessor">#ifndef CAMERA_H</span>
<a name="l00010"></a>00010 <span class="preprocessor"></span><span class="preprocessor">#define CAMERA_H</span>
<a name="l00011"></a>00011 <span class="preprocessor"></span>
<a name="l00012"></a>00012 <span class="comment">//--------------------------------------------------------------------------------------</span>
<a name="l00013"></a><a class="code" href="class_c_d3_d_arc_ball.html">00013</a> <span class="keyword">class </span><a class="code" href="class_c_d3_d_arc_ball.html">CD3DArcBall</a>
<a name="l00014"></a>00014 {
<a name="l00015"></a>00015 <span class="keyword">public</span>:
<a name="l00016"></a>00016                                     <a class="code" href="class_c_d3_d_arc_ball.html#e5b332fb9c87ddde4670c782b8299e40">CD3DArcBall</a>();
<a name="l00017"></a>00017 
<a name="l00018"></a>00018     <span class="comment">// Functions to change behavior</span>
<a name="l00019"></a>00019     <span class="keywordtype">void</span>                            <a class="code" href="class_c_d3_d_arc_ball.html#8e25a9fee7bdad867cf8feb623a3dd1f">Reset</a>();
<a name="l00020"></a><a class="code" href="class_c_d3_d_arc_ball.html#72c32f8aa6d34f89765ea75139f65b87">00020</a>     <span class="keywordtype">void</span> <a class="code" href="class_c_d3_d_arc_ball.html#72c32f8aa6d34f89765ea75139f65b87">SetTranslationRadius</a>( FLOAT fRadiusTranslation ) { <a class="code" href="class_c_d3_d_arc_ball.html#4600c8ffe537118ba7b8f7fdc60c9322">m_fRadiusTranslation</a> = fRadiusTranslation; }
<a name="l00021"></a><a class="code" href="class_c_d3_d_arc_ball.html#ac7e91ff2fb6770b18b62b7eaecba6c4">00021</a>     <span class="keywordtype">void</span> <a class="code" href="class_c_d3_d_arc_ball.html#ac7e91ff2fb6770b18b62b7eaecba6c4">SetWindow</a>( <a class="code" href="_d_x_u_tmisc_8cpp.html#8242f90bc26f3171f0b2e1174cabc743">INT</a> nWidth, <a class="code" href="_d_x_u_tmisc_8cpp.html#8242f90bc26f3171f0b2e1174cabc743">INT</a> nHeight, FLOAT fRadius = 0.9f ) { <a class="code" href="class_c_d3_d_arc_ball.html#71b658e5247eb150029dfe923bd116c3">m_nWidth</a> = nWidth; <a class="code" href="class_c_d3_d_arc_ball.html#53bb3eeba4a817148421c5c53b4b846d">m_nHeight</a> = nHeight; <a class="code" href="class_c_d3_d_arc_ball.html#11401fa5425ecaab3669745a4c20e552">m_fRadius</a> = fRadius; <a class="code" href="class_c_d3_d_arc_ball.html#6075b159b5221b3091e32b090c0dcab3">m_vCenter</a> = D3DXVECTOR2(<a class="code" href="class_c_d3_d_arc_ball.html#71b658e5247eb150029dfe923bd116c3">m_nWidth</a>/2.0f,<a class="code" href="class_c_d3_d_arc_ball.html#53bb3eeba4a817148421c5c53b4b846d">m_nHeight</a>/2.0f); }
<a name="l00022"></a><a class="code" href="class_c_d3_d_arc_ball.html#781313e96e3a63e69facead4ca70cf79">00022</a>     <span class="keywordtype">void</span> <a class="code" href="class_c_d3_d_arc_ball.html#781313e96e3a63e69facead4ca70cf79">SetOffset</a>( <a class="code" href="_d_x_u_tmisc_8cpp.html#8242f90bc26f3171f0b2e1174cabc743">INT</a> nX, <a class="code" href="_d_x_u_tmisc_8cpp.html#8242f90bc26f3171f0b2e1174cabc743">INT</a> nY ) { <a class="code" href="class_c_d3_d_arc_ball.html#b6246cc5b63d98a3dfcb4530cae75ef4">m_Offset</a>.x = nX; <a class="code" href="class_c_d3_d_arc_ball.html#b6246cc5b63d98a3dfcb4530cae75ef4">m_Offset</a>.y = nY; }
<a name="l00023"></a>00023 
<a name="l00024"></a>00024     <span class="comment">// Call these from client and use GetRotationMatrix() to read new rotation matrix</span>
<a name="l00025"></a>00025     <span class="keywordtype">void</span>                            <a class="code" href="class_c_d3_d_arc_ball.html#86882ddd7ee5330641a57b24fd8006f3">OnBegin</a>( <span class="keywordtype">int</span> nX, <span class="keywordtype">int</span> nY );  <span class="comment">// start the rotation (pass current mouse position)</span>
<a name="l00026"></a>00026     <span class="keywordtype">void</span>                            <a class="code" href="class_c_d3_d_arc_ball.html#ab40fc2905516034b37ba0d14b6a6a76">OnMove</a>( <span class="keywordtype">int</span> nX, <span class="keywordtype">int</span> nY );   <span class="comment">// continue the rotation (pass current mouse position)</span>
<a name="l00027"></a>00027     <span class="keywordtype">void</span>                            <a class="code" href="class_c_d3_d_arc_ball.html#bf187ce0c2926384d28166ee30df6c24">OnEnd</a>();                    <span class="comment">// end the rotation </span>
<a name="l00028"></a>00028 
<a name="l00029"></a>00029     <span class="comment">// Or call this to automatically handle left, middle, right buttons</span>
<a name="l00030"></a>00030     LRESULT                         <a class="code" href="class_c_d3_d_arc_ball.html#c2f906cc45310c55c03b6403c22817ca">HandleMessages</a>( HWND hWnd, <a class="code" href="_d_x_u_tmisc_8cpp.html#cc62206430baf174f43edb2b0a26ffd0">UINT</a> uMsg, WPARAM wParam, LPARAM lParam );
<a name="l00031"></a>00031 
<a name="l00032"></a>00032     <span class="comment">// Functions to get/set state</span>
<a name="l00033"></a><a class="code" href="class_c_d3_d_arc_ball.html#546036e679d57ea3258a4f77ba8b9df8">00033</a>     <span class="keyword">const</span> D3DXMATRIX* <a class="code" href="class_c_d3_d_arc_ball.html#546036e679d57ea3258a4f77ba8b9df8">GetRotationMatrix</a>()                   { <span class="keywordflow">return</span> D3DXMatrixRotationQuaternion(&amp;<a class="code" href="class_c_d3_d_arc_ball.html#02619e72fe82db21a3c237a94eb31a37">m_mRotation</a>, &amp;<a class="code" href="class_c_d3_d_arc_ball.html#248db3d61e41f65195810367bbe849f1">m_qNow</a>); };
<a name="l00034"></a><a class="code" href="class_c_d3_d_arc_ball.html#d100e8818466d636d428e49fbe634f5b">00034</a>     <span class="keyword">const</span> D3DXMATRIX* <a class="code" href="class_c_d3_d_arc_ball.html#d100e8818466d636d428e49fbe634f5b">GetTranslationMatrix</a>()<span class="keyword"> const          </span>{ <span class="keywordflow">return</span> &amp;<a class="code" href="class_c_d3_d_arc_ball.html#2d9f13c59ac72cec38ab704159b7e4e9">m_mTranslation</a>; }
<a name="l00035"></a><a class="code" href="class_c_d3_d_arc_ball.html#4b402efbd90ff4f6fc916eadfcf61482">00035</a>     <span class="keyword">const</span> D3DXMATRIX* <a class="code" href="class_c_d3_d_arc_ball.html#4b402efbd90ff4f6fc916eadfcf61482">GetTranslationDeltaMatrix</a>()<span class="keyword"> const     </span>{ <span class="keywordflow">return</span> &amp;<a class="code" href="class_c_d3_d_arc_ball.html#d630f2a7fc9ca7f77574ba9e9560c672">m_mTranslationDelta</a>; }
<a name="l00036"></a><a class="code" href="class_c_d3_d_arc_ball.html#c7ca13b553ce0ecce4d375697d0866e3">00036</a>     <span class="keywordtype">bool</span>        <a class="code" href="class_c_d3_d_arc_ball.html#c7ca13b553ce0ecce4d375697d0866e3">IsBeingDragged</a>()<span class="keyword"> const                      </span>{ <span class="keywordflow">return</span> <a class="code" href="class_c_d3_d_arc_ball.html#437b55976f4fe81a6f294a2d1f11ac81">m_bDrag</a>; }
<a name="l00037"></a><a class="code" href="class_c_d3_d_arc_ball.html#d256f4f111901c148228b745a274d828">00037</a>     D3DXQUATERNION <a class="code" href="class_c_d3_d_arc_ball.html#d256f4f111901c148228b745a274d828">GetQuatNow</a>()<span class="keyword"> const                       </span>{ <span class="keywordflow">return</span> <a class="code" href="class_c_d3_d_arc_ball.html#248db3d61e41f65195810367bbe849f1">m_qNow</a>; }
<a name="l00038"></a><a class="code" href="class_c_d3_d_arc_ball.html#d3140af4e1b4f62a18238ac2991de9a6">00038</a>     <span class="keywordtype">void</span>        <a class="code" href="class_c_d3_d_arc_ball.html#d3140af4e1b4f62a18238ac2991de9a6">SetQuatNow</a>( D3DXQUATERNION q ) { <a class="code" href="class_c_d3_d_arc_ball.html#248db3d61e41f65195810367bbe849f1">m_qNow</a> = q; }
<a name="l00039"></a>00039 
<a name="l00040"></a>00040     <span class="keyword">static</span> D3DXQUATERNION WINAPI    <a class="code" href="class_c_d3_d_arc_ball.html#b4ab2df9ad0ee6239a79bc826dc35249">QuatFromBallPoints</a>( <span class="keyword">const</span> D3DXVECTOR3&amp; vFrom, <span class="keyword">const</span> D3DXVECTOR3&amp; vTo );
<a name="l00041"></a>00041 
<a name="l00042"></a>00042 
<a name="l00043"></a>00043 <span class="keyword">protected</span>:
<a name="l00044"></a><a class="code" href="class_c_d3_d_arc_ball.html#02619e72fe82db21a3c237a94eb31a37">00044</a>     D3DXMATRIXA16 <a class="code" href="class_c_d3_d_arc_ball.html#02619e72fe82db21a3c237a94eb31a37">m_mRotation</a>;         <span class="comment">// Matrix for arc ball's orientation</span>
<a name="l00045"></a><a class="code" href="class_c_d3_d_arc_ball.html#2d9f13c59ac72cec38ab704159b7e4e9">00045</a>     D3DXMATRIXA16 <a class="code" href="class_c_d3_d_arc_ball.html#2d9f13c59ac72cec38ab704159b7e4e9">m_mTranslation</a>;      <span class="comment">// Matrix for arc ball's position</span>
<a name="l00046"></a><a class="code" href="class_c_d3_d_arc_ball.html#d630f2a7fc9ca7f77574ba9e9560c672">00046</a>     D3DXMATRIXA16 <a class="code" href="class_c_d3_d_arc_ball.html#d630f2a7fc9ca7f77574ba9e9560c672">m_mTranslationDelta</a>; <span class="comment">// Matrix for arc ball's position</span>
<a name="l00047"></a>00047 
<a name="l00048"></a><a class="code" href="class_c_d3_d_arc_ball.html#b6246cc5b63d98a3dfcb4530cae75ef4">00048</a>     POINT <a class="code" href="class_c_d3_d_arc_ball.html#b6246cc5b63d98a3dfcb4530cae75ef4">m_Offset</a>;   <span class="comment">// window offset, or upper-left corner of window</span>
<a name="l00049"></a><a class="code" href="class_c_d3_d_arc_ball.html#71b658e5247eb150029dfe923bd116c3">00049</a>     <a class="code" href="_d_x_u_tmisc_8cpp.html#8242f90bc26f3171f0b2e1174cabc743">INT</a> <a class="code" href="class_c_d3_d_arc_ball.html#71b658e5247eb150029dfe923bd116c3">m_nWidth</a>;   <span class="comment">// arc ball's window width</span>
<a name="l00050"></a><a class="code" href="class_c_d3_d_arc_ball.html#53bb3eeba4a817148421c5c53b4b846d">00050</a>     <a class="code" href="_d_x_u_tmisc_8cpp.html#8242f90bc26f3171f0b2e1174cabc743">INT</a> <a class="code" href="class_c_d3_d_arc_ball.html#53bb3eeba4a817148421c5c53b4b846d">m_nHeight</a>;  <span class="comment">// arc ball's window height</span>
<a name="l00051"></a><a class="code" href="class_c_d3_d_arc_ball.html#6075b159b5221b3091e32b090c0dcab3">00051</a>     D3DXVECTOR2 <a class="code" href="class_c_d3_d_arc_ball.html#6075b159b5221b3091e32b090c0dcab3">m_vCenter</a>;  <span class="comment">// center of arc ball </span>
<a name="l00052"></a><a class="code" href="class_c_d3_d_arc_ball.html#11401fa5425ecaab3669745a4c20e552">00052</a>     FLOAT <a class="code" href="class_c_d3_d_arc_ball.html#11401fa5425ecaab3669745a4c20e552">m_fRadius</a>;  <span class="comment">// arc ball's radius in screen coords</span>
<a name="l00053"></a><a class="code" href="class_c_d3_d_arc_ball.html#4600c8ffe537118ba7b8f7fdc60c9322">00053</a>     FLOAT <a class="code" href="class_c_d3_d_arc_ball.html#4600c8ffe537118ba7b8f7fdc60c9322">m_fRadiusTranslation</a>; <span class="comment">// arc ball's radius for translating the target</span>
<a name="l00054"></a>00054 
<a name="l00055"></a><a class="code" href="class_c_d3_d_arc_ball.html#944bbe7cbea8e5c715b1c62a0a6ba32f">00055</a>     D3DXQUATERNION <a class="code" href="class_c_d3_d_arc_ball.html#944bbe7cbea8e5c715b1c62a0a6ba32f">m_qDown</a>;             <span class="comment">// Quaternion before button down</span>
<a name="l00056"></a><a class="code" href="class_c_d3_d_arc_ball.html#248db3d61e41f65195810367bbe849f1">00056</a>     D3DXQUATERNION <a class="code" href="class_c_d3_d_arc_ball.html#248db3d61e41f65195810367bbe849f1">m_qNow</a>;              <span class="comment">// Composite quaternion for current drag</span>
<a name="l00057"></a><a class="code" href="class_c_d3_d_arc_ball.html#437b55976f4fe81a6f294a2d1f11ac81">00057</a>     <span class="keywordtype">bool</span> <a class="code" href="class_c_d3_d_arc_ball.html#437b55976f4fe81a6f294a2d1f11ac81">m_bDrag</a>;             <span class="comment">// Whether user is dragging arc ball</span>
<a name="l00058"></a>00058 
<a name="l00059"></a><a class="code" href="class_c_d3_d_arc_ball.html#e4114109f3ae6ae749748210b54405ad">00059</a>     POINT <a class="code" href="class_c_d3_d_arc_ball.html#e4114109f3ae6ae749748210b54405ad">m_ptLastMouse</a>;      <span class="comment">// position of last mouse point</span>
<a name="l00060"></a><a class="code" href="class_c_d3_d_arc_ball.html#702ae593d9a99c473c33bc762b6034de">00060</a>     D3DXVECTOR3 <a class="code" href="class_c_d3_d_arc_ball.html#702ae593d9a99c473c33bc762b6034de">m_vDownPt</a>;           <span class="comment">// starting point of rotation arc</span>
<a name="l00061"></a><a class="code" href="class_c_d3_d_arc_ball.html#759c768375a12e49cfdad6d141e60d21">00061</a>     D3DXVECTOR3 <a class="code" href="class_c_d3_d_arc_ball.html#759c768375a12e49cfdad6d141e60d21">m_vCurrentPt</a>;        <span class="comment">// current point of rotation arc</span>
<a name="l00062"></a>00062 
<a name="l00063"></a>00063     D3DXVECTOR3                     <a class="code" href="class_c_d3_d_arc_ball.html#7c1d50c7a090b1b64ea528cddc1858dc">ScreenToVector</a>( <span class="keywordtype">float</span> fScreenPtX, <span class="keywordtype">float</span> fScreenPtY );
<a name="l00064"></a>00064 };
<a name="l00065"></a>00065 
<a name="l00066"></a>00066 
<a name="l00067"></a>00067 <span class="comment">//--------------------------------------------------------------------------------------</span>
<a name="l00068"></a>00068 <span class="comment">// used by CCamera to map WM_KEYDOWN keys</span>
<a name="l00069"></a>00069 <span class="comment">//--------------------------------------------------------------------------------------</span>
<a name="l00070"></a><a class="code" href="_d_x_u_tcamera_8h.html#4b2404de98d0b5f4a0efe1a7752fffa2">00070</a> <span class="keyword">enum</span> <a class="code" href="_d_x_u_tcamera_8h.html#4b2404de98d0b5f4a0efe1a7752fffa2">D3DUtil_CameraKeys</a>
<a name="l00071"></a>00071 {
<a name="l00072"></a><a class="code" href="_d_x_u_tcamera_8h.html#4b2404de98d0b5f4a0efe1a7752fffa29ebbc12d353b73bf060b6be2388f61cc">00072</a>     <a class="code" href="_d_x_u_tcamera_8h.html#4b2404de98d0b5f4a0efe1a7752fffa29ebbc12d353b73bf060b6be2388f61cc">CAM_STRAFE_LEFT</a> = 0,
<a name="l00073"></a><a class="code" href="_d_x_u_tcamera_8h.html#4b2404de98d0b5f4a0efe1a7752fffa2022ce82fb69c8a537a8b141207071ed3">00073</a>     <a class="code" href="_d_x_u_tcamera_8h.html#4b2404de98d0b5f4a0efe1a7752fffa2022ce82fb69c8a537a8b141207071ed3">CAM_STRAFE_RIGHT</a>,
<a name="l00074"></a><a class="code" href="_d_x_u_tcamera_8h.html#4b2404de98d0b5f4a0efe1a7752fffa2d69c3a5aa1a9b0346685966751142184">00074</a>     <a class="code" href="_d_x_u_tcamera_8h.html#4b2404de98d0b5f4a0efe1a7752fffa2d69c3a5aa1a9b0346685966751142184">CAM_MOVE_FORWARD</a>,
<a name="l00075"></a><a class="code" href="_d_x_u_tcamera_8h.html#4b2404de98d0b5f4a0efe1a7752fffa2699a3d5fdfe73daaa2f2bf9aff505985">00075</a>     <a class="code" href="_d_x_u_tcamera_8h.html#4b2404de98d0b5f4a0efe1a7752fffa2699a3d5fdfe73daaa2f2bf9aff505985">CAM_MOVE_BACKWARD</a>,
<a name="l00076"></a><a class="code" href="_d_x_u_tcamera_8h.html#4b2404de98d0b5f4a0efe1a7752fffa24728afba5a7bf281476b27419a8853f4">00076</a>     <a class="code" href="_d_x_u_tcamera_8h.html#4b2404de98d0b5f4a0efe1a7752fffa24728afba5a7bf281476b27419a8853f4">CAM_MOVE_UP</a>,
<a name="l00077"></a><a class="code" href="_d_x_u_tcamera_8h.html#4b2404de98d0b5f4a0efe1a7752fffa2228a121dff941ea98be9bbbab463b6ef">00077</a>     <a class="code" href="_d_x_u_tcamera_8h.html#4b2404de98d0b5f4a0efe1a7752fffa2228a121dff941ea98be9bbbab463b6ef">CAM_MOVE_DOWN</a>,
<a name="l00078"></a><a class="code" href="_d_x_u_tcamera_8h.html#4b2404de98d0b5f4a0efe1a7752fffa20fa9d8fc0f98ac0196870216d7f2c383">00078</a>     <a class="code" href="_d_x_u_tcamera_8h.html#4b2404de98d0b5f4a0efe1a7752fffa20fa9d8fc0f98ac0196870216d7f2c383">CAM_RESET</a>,
<a name="l00079"></a><a class="code" href="_d_x_u_tcamera_8h.html#4b2404de98d0b5f4a0efe1a7752fffa2a39d04f07066589adc4ec53a11ef4614">00079</a>     <a class="code" href="_d_x_u_tcamera_8h.html#4b2404de98d0b5f4a0efe1a7752fffa2a39d04f07066589adc4ec53a11ef4614">CAM_CONTROLDOWN</a>,
<a name="l00080"></a><a class="code" href="_d_x_u_tcamera_8h.html#4b2404de98d0b5f4a0efe1a7752fffa221a4331af4dab51344af94c70571ce1e">00080</a>     <a class="code" href="_d_x_u_tcamera_8h.html#4b2404de98d0b5f4a0efe1a7752fffa221a4331af4dab51344af94c70571ce1e">CAM_MAX_KEYS</a>,
<a name="l00081"></a><a class="code" href="_d_x_u_tcamera_8h.html#4b2404de98d0b5f4a0efe1a7752fffa23e3a357964326feba04cd73c1bbb8a15">00081</a>     <a class="code" href="_d_x_u_tcamera_8h.html#4b2404de98d0b5f4a0efe1a7752fffa23e3a357964326feba04cd73c1bbb8a15">CAM_UNKNOWN</a>     = 0xFF
<a name="l00082"></a>00082 };
<a name="l00083"></a>00083 
<a name="l00084"></a><a class="code" href="_d_x_u_tcamera_8h.html#ff864772a97332facec5e39758ec809d">00084</a> <span class="preprocessor">#define KEY_WAS_DOWN_MASK 0x80</span>
<a name="l00085"></a><a class="code" href="_d_x_u_tcamera_8h.html#39e692a1c38b57e6ca1b6f29fe67cc85">00085</a> <span class="preprocessor"></span><span class="preprocessor">#define KEY_IS_DOWN_MASK  0x01</span>
<a name="l00086"></a>00086 <span class="preprocessor"></span>
<a name="l00087"></a><a class="code" href="_d_x_u_tcamera_8h.html#fb42537b362f394ed4db90fd34c87330">00087</a> <span class="preprocessor">#define MOUSE_LEFT_BUTTON   0x01</span>
<a name="l00088"></a><a class="code" href="_d_x_u_tcamera_8h.html#f198ea1d58a225ba7fce4ae77e2faa04">00088</a> <span class="preprocessor"></span><span class="preprocessor">#define MOUSE_MIDDLE_BUTTON 0x02</span>
<a name="l00089"></a><a class="code" href="_d_x_u_tcamera_8h.html#a1092e0190b6ee5bc6733943d970fed7">00089</a> <span class="preprocessor"></span><span class="preprocessor">#define MOUSE_RIGHT_BUTTON  0x04</span>
<a name="l00090"></a><a class="code" href="_d_x_u_tcamera_8h.html#941896ca7c68c553dc4d9e7b79f0eb11">00090</a> <span class="preprocessor"></span><span class="preprocessor">#define MOUSE_WHEEL         0x08</span>
<a name="l00091"></a>00091 <span class="preprocessor"></span>
<a name="l00092"></a>00092 
<a name="l00093"></a>00093 <span class="comment">//--------------------------------------------------------------------------------------</span>
<a name="l00094"></a>00094 <span class="comment">// Simple base camera class that moves and rotates.  The base class</span>
<a name="l00095"></a>00095 <span class="comment">//       records mouse and keyboard input for use by a derived class, and </span>
<a name="l00096"></a>00096 <span class="comment">//       keeps common state.</span>
<a name="l00097"></a>00097 <span class="comment">//--------------------------------------------------------------------------------------</span>
<a name="l00098"></a><a class="code" href="class_c_base_camera.html">00098</a> <span class="keyword">class </span><a class="code" href="class_c_base_camera.html">CBaseCamera</a>
<a name="l00099"></a>00099 {
<a name="l00100"></a>00100 <span class="keyword">public</span>:
<a name="l00101"></a>00101                                 <a class="code" href="class_c_base_camera.html#4f4eaa45a5d8632abb98b035219e6b82">CBaseCamera</a>();
<a name="l00102"></a>00102 
<a name="l00103"></a>00103     <span class="comment">// Call these from client and use Get*Matrix() to read new matrices</span>
<a name="l00104"></a>00104     <span class="keyword">virtual</span> LRESULT             <a class="code" href="class_c_base_camera.html#77cc040ed2d0b3479412b81316beb793">HandleMessages</a>( HWND hWnd, <a class="code" href="_d_x_u_tmisc_8cpp.html#cc62206430baf174f43edb2b0a26ffd0">UINT</a> uMsg, WPARAM wParam, LPARAM lParam );
<a name="l00105"></a>00105     <span class="keyword">virtual</span> <span class="keywordtype">void</span>                <a class="code" href="class_c_base_camera.html#21db15a8cdca60d1540d958a32708703">FrameMove</a>( FLOAT fElapsedTime ) = 0;
<a name="l00106"></a>00106 
<a name="l00107"></a>00107     <span class="comment">// Functions to change camera matrices</span>
<a name="l00108"></a>00108     <span class="keyword">virtual</span> <span class="keywordtype">void</span>                <a class="code" href="class_c_base_camera.html#dc95e71e268d59a084f6e8d95a9aadb9">Reset</a>();
<a name="l00109"></a>00109     <span class="keyword">virtual</span> <span class="keywordtype">void</span>                <a class="code" href="class_c_base_camera.html#17b45dd3b6055bc761058d57f5a10c02">SetViewParams</a>( D3DXVECTOR3* pvEyePt, D3DXVECTOR3* pvLookatPt );
<a name="l00110"></a>00110     <span class="keyword">virtual</span> <span class="keywordtype">void</span>                <a class="code" href="class_c_base_camera.html#08cfa8a4246cd6115e6522821e573e89">SetProjParams</a>( FLOAT fFOV, FLOAT fAspect, FLOAT fNearPlane, FLOAT fFarPlane );
<a name="l00111"></a>00111 
<a name="l00112"></a>00112     <span class="comment">// Functions to change behavior</span>
<a name="l00113"></a><a class="code" href="class_c_base_camera.html#8c425184f1114f17bb8e1b3505c13036">00113</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_c_base_camera.html#8c425184f1114f17bb8e1b3505c13036">SetDragRect</a>( RECT &amp;rc ) { <a class="code" href="class_c_base_camera.html#1a22483b3f168a945864e5fd156ca820">m_rcDrag</a> = rc; }
<a name="l00114"></a><a class="code" href="class_c_base_camera.html#d76b241a4bf9ef386563fd1a38ef70ae">00114</a>     <span class="keywordtype">void</span> <a class="code" href="class_c_base_camera.html#d76b241a4bf9ef386563fd1a38ef70ae">SetInvertPitch</a>( <span class="keywordtype">bool</span> bInvertPitch ) { <a class="code" href="class_c_base_camera.html#6d12cd53bc908e4da00a7c3581807598">m_bInvertPitch</a> = bInvertPitch; }
<a name="l00115"></a><a class="code" href="class_c_base_camera.html#029f5a9a3e3555c94e8b88783a9d51f3">00115</a>     <span class="keywordtype">void</span> <a class="code" href="class_c_base_camera.html#029f5a9a3e3555c94e8b88783a9d51f3">SetDrag</a>( <span class="keywordtype">bool</span> bMovementDrag, FLOAT fTotalDragTimeToZero = 0.25f ) { <a class="code" href="class_c_base_camera.html#bbd0b30b993e305bc7deb7a985a3ea8b">m_bMovementDrag</a> = bMovementDrag; <a class="code" href="class_c_base_camera.html#39abb4e2ffe603d95bc1f80c3b7e7c86">m_fTotalDragTimeToZero</a> = fTotalDragTimeToZero; }
<a name="l00116"></a><a class="code" href="class_c_base_camera.html#5eb76cd5ca8ee2b377cf7434ee718547">00116</a>     <span class="keywordtype">void</span> <a class="code" href="class_c_base_camera.html#5eb76cd5ca8ee2b377cf7434ee718547">SetEnableYAxisMovement</a>( <span class="keywordtype">bool</span> bEnableYAxisMovement ) { <a class="code" href="class_c_base_camera.html#2fbcc041572a057cfd03c27f157eaf08">m_bEnableYAxisMovement</a> = bEnableYAxisMovement; }
<a name="l00117"></a><a class="code" href="class_c_base_camera.html#6f65efa814bda8435fb45cca7f9c1f32">00117</a>     <span class="keywordtype">void</span> <a class="code" href="class_c_base_camera.html#6f65efa814bda8435fb45cca7f9c1f32">SetEnablePositionMovement</a>( <span class="keywordtype">bool</span> bEnablePositionMovement ) { <a class="code" href="class_c_base_camera.html#59fae15ac67cb211049b17bf38672ac8">m_bEnablePositionMovement</a> = bEnablePositionMovement; }
<a name="l00118"></a><a class="code" href="class_c_base_camera.html#5e3ec99a05164a281f55a812b755a6da">00118</a>     <span class="keywordtype">void</span> <a class="code" href="class_c_base_camera.html#5e3ec99a05164a281f55a812b755a6da">SetClipToBoundary</a>( <span class="keywordtype">bool</span> bClipToBoundary, D3DXVECTOR3* pvMinBoundary, D3DXVECTOR3* pvMaxBoundary ) { <a class="code" href="class_c_base_camera.html#1087c9e2eaf936be735df38f6f8719ad">m_bClipToBoundary</a> = bClipToBoundary; <span class="keywordflow">if</span>( pvMinBoundary ) <a class="code" href="class_c_base_camera.html#63dd58475f7382d77ada28b763e7a422">m_vMinBoundary</a> = *pvMinBoundary; <span class="keywordflow">if</span>( pvMaxBoundary ) <a class="code" href="class_c_base_camera.html#8f823201300bc646e232a82a4c5b6eea">m_vMaxBoundary</a> = *pvMaxBoundary; }
<a name="l00119"></a><a class="code" href="class_c_base_camera.html#33c8df00f0f8d644744621ac7142d5f8">00119</a>     <span class="keywordtype">void</span> <a class="code" href="class_c_base_camera.html#33c8df00f0f8d644744621ac7142d5f8">SetScalers</a>( FLOAT fRotationScaler = 0.01f, FLOAT fMoveScaler = 5.0f )  { <a class="code" href="class_c_base_camera.html#2faeeb72dd3ec59cb4bb05726341bca8">m_fRotationScaler</a> = fRotationScaler; <a class="code" href="class_c_base_camera.html#c45d164a6908b70b436223a89d48f158">m_fMoveScaler</a> = fMoveScaler; }
<a name="l00120"></a><a class="code" href="class_c_base_camera.html#7cda8d85d13b016697b4c4e27d57e41c">00120</a>     <span class="keywordtype">void</span> <a class="code" href="class_c_base_camera.html#7cda8d85d13b016697b4c4e27d57e41c">SetNumberOfFramesToSmoothMouseData</a>( <span class="keywordtype">int</span> nFrames ) { <span class="keywordflow">if</span>( nFrames &gt; 0 ) <a class="code" href="class_c_base_camera.html#f9b4d43933754929e66403e0435d6387">m_fFramesToSmoothMouseData</a> = (float)nFrames; }
<a name="l00121"></a><a class="code" href="class_c_base_camera.html#0440bafade1654e678fbee7e30129783">00121</a>     <span class="keywordtype">void</span> <a class="code" href="class_c_base_camera.html#0440bafade1654e678fbee7e30129783">SetResetCursorAfterMove</a>( <span class="keywordtype">bool</span> bResetCursorAfterMove ) { <a class="code" href="class_c_base_camera.html#7dd4c284bd8f3058eb047e0d90eee8ea">m_bResetCursorAfterMove</a> = bResetCursorAfterMove; }
<a name="l00122"></a>00122 
<a name="l00123"></a>00123     <span class="comment">// Functions to get state</span>
<a name="l00124"></a><a class="code" href="class_c_base_camera.html#10c93bd976787aec5b71daecd3448047">00124</a>     <span class="keyword">const</span> D3DXMATRIX*  <a class="code" href="class_c_base_camera.html#10c93bd976787aec5b71daecd3448047">GetViewMatrix</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> &amp;<a class="code" href="class_c_base_camera.html#a4e76560bdadc557f2e279e8ab00e405">m_mView</a>; }
<a name="l00125"></a><a class="code" href="class_c_base_camera.html#bd1fd54b7481f136ff160528caac139a">00125</a>     <span class="keyword">const</span> D3DXMATRIX*  <a class="code" href="class_c_base_camera.html#bd1fd54b7481f136ff160528caac139a">GetProjMatrix</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> &amp;<a class="code" href="class_c_base_camera.html#97b8a160735a4b812e7d3e2637d2025c">m_mProj</a>; }
<a name="l00126"></a><a class="code" href="class_c_base_camera.html#e08632cf51cc263cdd2d78eea8af442a">00126</a>     <span class="keyword">const</span> D3DXVECTOR3* <a class="code" href="class_c_base_camera.html#e08632cf51cc263cdd2d78eea8af442a">GetEyePt</a>()<span class="keyword"> const      </span>{ <span class="keywordflow">return</span> &amp;<a class="code" href="class_c_base_camera.html#a7b7cd1276331e8ab614e04ddcde14e7">m_vEye</a>; }
<a name="l00127"></a><a class="code" href="class_c_base_camera.html#9b4df40fa4654c10205d15ff79376e77">00127</a>     <span class="keyword">const</span> D3DXVECTOR3* <a class="code" href="class_c_base_camera.html#9b4df40fa4654c10205d15ff79376e77">GetLookAtPt</a>()<span class="keyword"> const   </span>{ <span class="keywordflow">return</span> &amp;<a class="code" href="class_c_base_camera.html#0c773d85e2ca0bf6eaf60e90478b6520">m_vLookAt</a>; }
<a name="l00128"></a><a class="code" href="class_c_base_camera.html#b99c79000b2d4fbf59c181032bccb95d">00128</a>     <span class="keywordtype">float</span> <a class="code" href="class_c_base_camera.html#b99c79000b2d4fbf59c181032bccb95d">GetNearClip</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="class_c_base_camera.html#c4d819f24b173b951db77377c20f33a1">m_fNearPlane</a>; }
<a name="l00129"></a><a class="code" href="class_c_base_camera.html#381de0e1f449208b1c2cb86e462c8643">00129</a>     <span class="keywordtype">float</span> <a class="code" href="class_c_base_camera.html#381de0e1f449208b1c2cb86e462c8643">GetFarClip</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="class_c_base_camera.html#667fbeae2b0445a30819109cd745764a">m_fFarPlane</a>; }
<a name="l00130"></a>00130 
<a name="l00131"></a><a class="code" href="class_c_base_camera.html#3928806e81783b1b3138833585d5f5d0">00131</a>     <span class="keywordtype">bool</span> <a class="code" href="class_c_base_camera.html#3928806e81783b1b3138833585d5f5d0">IsBeingDragged</a>()<span class="keyword"> const         </span>{ <span class="keywordflow">return</span> (<a class="code" href="class_c_base_camera.html#328bd336893fea3959fafeb2938bc426">m_bMouseLButtonDown</a> || <a class="code" href="class_c_base_camera.html#1b56edb22dc3c1383da3524211dcfa6f">m_bMouseMButtonDown</a> || <a class="code" href="class_c_base_camera.html#eed297c389f73cae17eb0b923aa0092e">m_bMouseRButtonDown</a>); }
<a name="l00132"></a><a class="code" href="class_c_base_camera.html#9b7c2e2595e2c7fff4afe8a92291feaf">00132</a>     <span class="keywordtype">bool</span> <a class="code" href="class_c_base_camera.html#9b7c2e2595e2c7fff4afe8a92291feaf">IsMouseLButtonDown</a>()<span class="keyword"> const     </span>{ <span class="keywordflow">return</span> <a class="code" href="class_c_base_camera.html#328bd336893fea3959fafeb2938bc426">m_bMouseLButtonDown</a>; } 
<a name="l00133"></a><a class="code" href="class_c_base_camera.html#e258726567f469b2e2bdbca54c3b9203">00133</a>     <span class="keywordtype">bool</span> <a class="code" href="class_c_base_camera.html#e258726567f469b2e2bdbca54c3b9203">IsMouseMButtonDown</a>()<span class="keyword"> const     </span>{ <span class="keywordflow">return</span> <a class="code" href="class_c_base_camera.html#1b56edb22dc3c1383da3524211dcfa6f">m_bMouseMButtonDown</a>; } 
<a name="l00134"></a><a class="code" href="class_c_base_camera.html#23062c3b30369799c572fdba7b61ef13">00134</a>     <span class="keywordtype">bool</span> <a class="code" href="class_c_base_camera.html#23062c3b30369799c572fdba7b61ef13">IsMouseRButtonDown</a>()<span class="keyword"> const     </span>{ <span class="keywordflow">return</span> <a class="code" href="class_c_base_camera.html#eed297c389f73cae17eb0b923aa0092e">m_bMouseRButtonDown</a>; } 
<a name="l00135"></a>00135 
<a name="l00136"></a>00136 <span class="keyword">protected</span>:
<a name="l00137"></a>00137     <span class="comment">// Functions to map a WM_KEYDOWN key to a D3DUtil_CameraKeys enum</span>
<a name="l00138"></a>00138     <span class="keyword">virtual</span> <a class="code" href="_d_x_u_tcamera_8h.html#4b2404de98d0b5f4a0efe1a7752fffa2">D3DUtil_CameraKeys</a>  <a class="code" href="class_c_base_camera.html#fb3c6111e9b929ddc40b65dded48d17f">MapKey</a>( <a class="code" href="_d_x_u_tmisc_8cpp.html#cc62206430baf174f43edb2b0a26ffd0">UINT</a> nKey );
<a name="l00139"></a><a class="code" href="class_c_base_camera.html#c00770963442a7527b0fafe4a9ade260">00139</a>     <span class="keywordtype">bool</span> <a class="code" href="class_c_base_camera.html#c00770963442a7527b0fafe4a9ade260">IsKeyDown</a>( BYTE key )<span class="keyword"> const </span>{ <span class="keywordflow">return</span>( (key &amp; <a class="code" href="_d_x_u_tcamera_8h.html#39e692a1c38b57e6ca1b6f29fe67cc85">KEY_IS_DOWN_MASK</a>) == KEY_IS_DOWN_MASK ); }
<a name="l00140"></a><a class="code" href="class_c_base_camera.html#b4e5634db9c77f98b4f1f87b4de391dd">00140</a>     <span class="keywordtype">bool</span> <a class="code" href="class_c_base_camera.html#b4e5634db9c77f98b4f1f87b4de391dd">WasKeyDown</a>( BYTE key )<span class="keyword"> const </span>{ <span class="keywordflow">return</span>( (key &amp; <a class="code" href="_d_x_u_tcamera_8h.html#ff864772a97332facec5e39758ec809d">KEY_WAS_DOWN_MASK</a>) == KEY_WAS_DOWN_MASK ); }
<a name="l00141"></a>00141 
<a name="l00142"></a>00142     <span class="keywordtype">void</span>                        <a class="code" href="class_c_base_camera.html#1d888b7ae8d6c49ee564720bcaee2e95">ConstrainToBoundary</a>( D3DXVECTOR3* pV );
<a name="l00143"></a>00143     <span class="keywordtype">void</span>                        <a class="code" href="class_c_base_camera.html#4c444a502868172538bdb36f5fe69bb6">UpdateMouseDelta</a>();
<a name="l00144"></a>00144     <span class="keywordtype">void</span>                        <a class="code" href="class_c_base_camera.html#fcca5c9bdc793eb6f1f8c0530b8b93f2">UpdateVelocity</a>( <span class="keywordtype">float</span> fElapsedTime );
<a name="l00145"></a>00145     <span class="keywordtype">void</span> <a class="code" href="class_c_base_camera.html#c0f6595e3bddfd13d620f5a38598192b">GetInput</a>( <span class="keywordtype">bool</span> bGetKeyboardInput, <span class="keywordtype">bool</span> bGetMouseInput, <span class="keywordtype">bool</span> bGetGamepadInput, <span class="keywordtype">bool</span> bResetCursorAfterMove );
<a name="l00146"></a>00146 
<a name="l00147"></a><a class="code" href="class_c_base_camera.html#a4e76560bdadc557f2e279e8ab00e405">00147</a>     D3DXMATRIX <a class="code" href="class_c_base_camera.html#a4e76560bdadc557f2e279e8ab00e405">m_mView</a>;              <span class="comment">// View matrix </span>
<a name="l00148"></a><a class="code" href="class_c_base_camera.html#97b8a160735a4b812e7d3e2637d2025c">00148</a>     D3DXMATRIX <a class="code" href="class_c_base_camera.html#97b8a160735a4b812e7d3e2637d2025c">m_mProj</a>;              <span class="comment">// Projection matrix</span>
<a name="l00149"></a>00149 
<a name="l00150"></a><a class="code" href="class_c_base_camera.html#944fb74264227b610464a055a6d8c9c4">00150</a>     <a class="code" href="struct_d_x_u_t___g_a_m_e_p_a_d.html">DXUT_GAMEPAD</a>                <a class="code" href="class_c_base_camera.html#944fb74264227b610464a055a6d8c9c4">m_GamePad</a>[<a class="code" href="_d_x_u_tmisc_8h.html#2717f7b49d17112e2ac91abe021dc980">DXUT_MAX_CONTROLLERS</a>];  <span class="comment">// XInput controller state</span>
<a name="l00151"></a><a class="code" href="class_c_base_camera.html#82a20dcc1d03a97e52f9f336b0f0e33b">00151</a>     D3DXVECTOR3 <a class="code" href="class_c_base_camera.html#82a20dcc1d03a97e52f9f336b0f0e33b">m_vGamePadLeftThumb</a>;
<a name="l00152"></a><a class="code" href="class_c_base_camera.html#1b9e69b2140314515049b30091d9a788">00152</a>     D3DXVECTOR3 <a class="code" href="class_c_base_camera.html#1b9e69b2140314515049b30091d9a788">m_vGamePadRightThumb</a>;
<a name="l00153"></a><a class="code" href="class_c_base_camera.html#e2731931f0485bb49b9f3178f9aabe6f">00153</a>     <span class="keywordtype">double</span>                      <a class="code" href="class_c_base_camera.html#e2731931f0485bb49b9f3178f9aabe6f">m_GamePadLastActive</a>[<a class="code" href="_d_x_u_tmisc_8h.html#2717f7b49d17112e2ac91abe021dc980">DXUT_MAX_CONTROLLERS</a>];
<a name="l00154"></a>00154 
<a name="l00155"></a><a class="code" href="class_c_base_camera.html#e12aee70bbb423a26ae9ea2161a6eacc">00155</a>     <span class="keywordtype">int</span> <a class="code" href="class_c_base_camera.html#e12aee70bbb423a26ae9ea2161a6eacc">m_cKeysDown</a>;            <span class="comment">// Number of camera keys that are down.</span>
<a name="l00156"></a><a class="code" href="class_c_base_camera.html#ab24266faedbce6a95ca36c23726064c">00156</a>     BYTE                        <a class="code" href="class_c_base_camera.html#ab24266faedbce6a95ca36c23726064c">m_aKeys</a>[<a class="code" href="_d_x_u_tcamera_8h.html#4b2404de98d0b5f4a0efe1a7752fffa221a4331af4dab51344af94c70571ce1e">CAM_MAX_KEYS</a>];  <span class="comment">// State of input - KEY_WAS_DOWN_MASK|KEY_IS_DOWN_MASK</span>
<a name="l00157"></a><a class="code" href="class_c_base_camera.html#ed43d3466c7a2d60b7b62845ab602b6f">00157</a>     D3DXVECTOR3 <a class="code" href="class_c_base_camera.html#ed43d3466c7a2d60b7b62845ab602b6f">m_vKeyboardDirection</a>;   <span class="comment">// Direction vector of keyboard input</span>
<a name="l00158"></a><a class="code" href="class_c_base_camera.html#6019b5ba50a3e7c57187d8341292c7d2">00158</a>     POINT <a class="code" href="class_c_base_camera.html#6019b5ba50a3e7c57187d8341292c7d2">m_ptLastMousePosition</a>;  <span class="comment">// Last absolute position of mouse cursor</span>
<a name="l00159"></a><a class="code" href="class_c_base_camera.html#328bd336893fea3959fafeb2938bc426">00159</a>     <span class="keywordtype">bool</span> <a class="code" href="class_c_base_camera.html#328bd336893fea3959fafeb2938bc426">m_bMouseLButtonDown</a>;    <span class="comment">// True if left button is down </span>
<a name="l00160"></a><a class="code" href="class_c_base_camera.html#1b56edb22dc3c1383da3524211dcfa6f">00160</a>     <span class="keywordtype">bool</span> <a class="code" href="class_c_base_camera.html#1b56edb22dc3c1383da3524211dcfa6f">m_bMouseMButtonDown</a>;    <span class="comment">// True if middle button is down </span>
<a name="l00161"></a><a class="code" href="class_c_base_camera.html#eed297c389f73cae17eb0b923aa0092e">00161</a>     <span class="keywordtype">bool</span> <a class="code" href="class_c_base_camera.html#eed297c389f73cae17eb0b923aa0092e">m_bMouseRButtonDown</a>;    <span class="comment">// True if right button is down </span>
<a name="l00162"></a><a class="code" href="class_c_base_camera.html#a30c8f1421c0e0f00dd1b3b37165bffd">00162</a>     <span class="keywordtype">int</span> <a class="code" href="class_c_base_camera.html#a30c8f1421c0e0f00dd1b3b37165bffd">m_nCurrentButtonMask</a>;   <span class="comment">// mask of which buttons are down</span>
<a name="l00163"></a><a class="code" href="class_c_base_camera.html#e6f0a643e814c30ae8f8fe7d8e49c46e">00163</a>     <span class="keywordtype">int</span> <a class="code" href="class_c_base_camera.html#e6f0a643e814c30ae8f8fe7d8e49c46e">m_nMouseWheelDelta</a>;     <span class="comment">// Amount of middle wheel scroll (+/-) </span>
<a name="l00164"></a><a class="code" href="class_c_base_camera.html#b884ec4d7972fed1319ed867a542f041">00164</a>     D3DXVECTOR2 <a class="code" href="class_c_base_camera.html#b884ec4d7972fed1319ed867a542f041">m_vMouseDelta</a>;          <span class="comment">// Mouse relative delta smoothed over a few frames</span>
<a name="l00165"></a><a class="code" href="class_c_base_camera.html#f9b4d43933754929e66403e0435d6387">00165</a>     <span class="keywordtype">float</span> <a class="code" href="class_c_base_camera.html#f9b4d43933754929e66403e0435d6387">m_fFramesToSmoothMouseData</a>; <span class="comment">// Number of frames to smooth mouse data over</span>
<a name="l00166"></a>00166 
<a name="l00167"></a><a class="code" href="class_c_base_camera.html#71147e92520e8965eac70517585ffe3c">00167</a>     D3DXVECTOR3 <a class="code" href="class_c_base_camera.html#71147e92520e8965eac70517585ffe3c">m_vDefaultEye</a>;          <span class="comment">// Default camera eye position</span>
<a name="l00168"></a><a class="code" href="class_c_base_camera.html#d3dd204ec2e0c44f6757ea3ac83a4f6e">00168</a>     D3DXVECTOR3 <a class="code" href="class_c_base_camera.html#d3dd204ec2e0c44f6757ea3ac83a4f6e">m_vDefaultLookAt</a>;       <span class="comment">// Default LookAt position</span>
<a name="l00169"></a><a class="code" href="class_c_base_camera.html#a7b7cd1276331e8ab614e04ddcde14e7">00169</a>     D3DXVECTOR3 <a class="code" href="class_c_base_camera.html#a7b7cd1276331e8ab614e04ddcde14e7">m_vEye</a>;                 <span class="comment">// Camera eye position</span>
<a name="l00170"></a><a class="code" href="class_c_base_camera.html#0c773d85e2ca0bf6eaf60e90478b6520">00170</a>     D3DXVECTOR3 <a class="code" href="class_c_base_camera.html#0c773d85e2ca0bf6eaf60e90478b6520">m_vLookAt</a>;              <span class="comment">// LookAt position</span>
<a name="l00171"></a><a class="code" href="class_c_base_camera.html#fe69549c26475e5d4f577cf8d2dce8cb">00171</a>     <span class="keywordtype">float</span> <a class="code" href="class_c_base_camera.html#fe69549c26475e5d4f577cf8d2dce8cb">m_fCameraYawAngle</a>;      <span class="comment">// Yaw angle of camera</span>
<a name="l00172"></a><a class="code" href="class_c_base_camera.html#fa9c9ae13a628b3dc352b6985d3a1acc">00172</a>     <span class="keywordtype">float</span> <a class="code" href="class_c_base_camera.html#fa9c9ae13a628b3dc352b6985d3a1acc">m_fCameraPitchAngle</a>;    <span class="comment">// Pitch angle of camera</span>
<a name="l00173"></a>00173 
<a name="l00174"></a><a class="code" href="class_c_base_camera.html#1a22483b3f168a945864e5fd156ca820">00174</a>     RECT <a class="code" href="class_c_base_camera.html#1a22483b3f168a945864e5fd156ca820">m_rcDrag</a>;               <span class="comment">// Rectangle within which a drag can be initiated.</span>
<a name="l00175"></a><a class="code" href="class_c_base_camera.html#bce9d814274b2bdb4da95fc3b3dca575">00175</a>     D3DXVECTOR3 <a class="code" href="class_c_base_camera.html#bce9d814274b2bdb4da95fc3b3dca575">m_vVelocity</a>;            <span class="comment">// Velocity of camera</span>
<a name="l00176"></a><a class="code" href="class_c_base_camera.html#bbd0b30b993e305bc7deb7a985a3ea8b">00176</a>     <span class="keywordtype">bool</span> <a class="code" href="class_c_base_camera.html#bbd0b30b993e305bc7deb7a985a3ea8b">m_bMovementDrag</a>;        <span class="comment">// If true, then camera movement will slow to a stop otherwise movement is instant</span>
<a name="l00177"></a><a class="code" href="class_c_base_camera.html#541e0833b62dac8d0dcff9f95be9220f">00177</a>     D3DXVECTOR3 <a class="code" href="class_c_base_camera.html#541e0833b62dac8d0dcff9f95be9220f">m_vVelocityDrag</a>;        <span class="comment">// Velocity drag force</span>
<a name="l00178"></a><a class="code" href="class_c_base_camera.html#ae76e8c993f56e6b21fa64b3bf0ee58a">00178</a>     FLOAT <a class="code" href="class_c_base_camera.html#ae76e8c993f56e6b21fa64b3bf0ee58a">m_fDragTimer</a>;           <span class="comment">// Countdown timer to apply drag</span>
<a name="l00179"></a><a class="code" href="class_c_base_camera.html#39abb4e2ffe603d95bc1f80c3b7e7c86">00179</a>     FLOAT <a class="code" href="class_c_base_camera.html#39abb4e2ffe603d95bc1f80c3b7e7c86">m_fTotalDragTimeToZero</a>; <span class="comment">// Time it takes for velocity to go from full to 0</span>
<a name="l00180"></a><a class="code" href="class_c_base_camera.html#462bb1b209e135dcaab3d95e7e709512">00180</a>     D3DXVECTOR2 <a class="code" href="class_c_base_camera.html#462bb1b209e135dcaab3d95e7e709512">m_vRotVelocity</a>;         <span class="comment">// Velocity of camera</span>
<a name="l00181"></a>00181 
<a name="l00182"></a><a class="code" href="class_c_base_camera.html#d480f1dc8ae654fc126cc2dfb57a1ec0">00182</a>     <span class="keywordtype">float</span> <a class="code" href="class_c_base_camera.html#d480f1dc8ae654fc126cc2dfb57a1ec0">m_fFOV</a>;                 <span class="comment">// Field of view</span>
<a name="l00183"></a><a class="code" href="class_c_base_camera.html#605bbe3c728cc72c3f7dcae3c0bac16e">00183</a>     <span class="keywordtype">float</span> <a class="code" href="class_c_base_camera.html#605bbe3c728cc72c3f7dcae3c0bac16e">m_fAspect</a>;              <span class="comment">// Aspect ratio</span>
<a name="l00184"></a><a class="code" href="class_c_base_camera.html#c4d819f24b173b951db77377c20f33a1">00184</a>     <span class="keywordtype">float</span> <a class="code" href="class_c_base_camera.html#c4d819f24b173b951db77377c20f33a1">m_fNearPlane</a>;           <span class="comment">// Near plane</span>
<a name="l00185"></a><a class="code" href="class_c_base_camera.html#667fbeae2b0445a30819109cd745764a">00185</a>     <span class="keywordtype">float</span> <a class="code" href="class_c_base_camera.html#667fbeae2b0445a30819109cd745764a">m_fFarPlane</a>;            <span class="comment">// Far plane</span>
<a name="l00186"></a>00186 
<a name="l00187"></a><a class="code" href="class_c_base_camera.html#2faeeb72dd3ec59cb4bb05726341bca8">00187</a>     <span class="keywordtype">float</span> <a class="code" href="class_c_base_camera.html#2faeeb72dd3ec59cb4bb05726341bca8">m_fRotationScaler</a>;      <span class="comment">// Scaler for rotation</span>
<a name="l00188"></a><a class="code" href="class_c_base_camera.html#c45d164a6908b70b436223a89d48f158">00188</a>     <span class="keywordtype">float</span> <a class="code" href="class_c_base_camera.html#c45d164a6908b70b436223a89d48f158">m_fMoveScaler</a>;          <span class="comment">// Scaler for movement</span>
<a name="l00189"></a>00189 
<a name="l00190"></a><a class="code" href="class_c_base_camera.html#6d12cd53bc908e4da00a7c3581807598">00190</a>     <span class="keywordtype">bool</span> <a class="code" href="class_c_base_camera.html#6d12cd53bc908e4da00a7c3581807598">m_bInvertPitch</a>;         <span class="comment">// Invert the pitch axis</span>
<a name="l00191"></a><a class="code" href="class_c_base_camera.html#59fae15ac67cb211049b17bf38672ac8">00191</a>     <span class="keywordtype">bool</span> <a class="code" href="class_c_base_camera.html#59fae15ac67cb211049b17bf38672ac8">m_bEnablePositionMovement</a>; <span class="comment">// If true, then the user can translate the camera/model </span>
<a name="l00192"></a><a class="code" href="class_c_base_camera.html#2fbcc041572a057cfd03c27f157eaf08">00192</a>     <span class="keywordtype">bool</span> <a class="code" href="class_c_base_camera.html#2fbcc041572a057cfd03c27f157eaf08">m_bEnableYAxisMovement</a>; <span class="comment">// If true, then camera can move in the y-axis</span>
<a name="l00193"></a>00193 
<a name="l00194"></a><a class="code" href="class_c_base_camera.html#1087c9e2eaf936be735df38f6f8719ad">00194</a>     <span class="keywordtype">bool</span> <a class="code" href="class_c_base_camera.html#1087c9e2eaf936be735df38f6f8719ad">m_bClipToBoundary</a>;      <span class="comment">// If true, then the camera will be clipped to the boundary</span>
<a name="l00195"></a><a class="code" href="class_c_base_camera.html#63dd58475f7382d77ada28b763e7a422">00195</a>     D3DXVECTOR3 <a class="code" href="class_c_base_camera.html#63dd58475f7382d77ada28b763e7a422">m_vMinBoundary</a>;         <span class="comment">// Min point in clip boundary</span>
<a name="l00196"></a><a class="code" href="class_c_base_camera.html#8f823201300bc646e232a82a4c5b6eea">00196</a>     D3DXVECTOR3 <a class="code" href="class_c_base_camera.html#8f823201300bc646e232a82a4c5b6eea">m_vMaxBoundary</a>;         <span class="comment">// Max point in clip boundary</span>
<a name="l00197"></a>00197 
<a name="l00198"></a><a class="code" href="class_c_base_camera.html#7dd4c284bd8f3058eb047e0d90eee8ea">00198</a>     <span class="keywordtype">bool</span> <a class="code" href="class_c_base_camera.html#7dd4c284bd8f3058eb047e0d90eee8ea">m_bResetCursorAfterMove</a>;<span class="comment">// If true, the class will reset the cursor position so that the cursor always has space to move </span>
<a name="l00199"></a>00199 };
<a name="l00200"></a>00200 
<a name="l00201"></a>00201 
<a name="l00202"></a>00202 <span class="comment">//--------------------------------------------------------------------------------------</span>
<a name="l00203"></a>00203 <span class="comment">// Simple first person camera class that moves and rotates.</span>
<a name="l00204"></a>00204 <span class="comment">//       It allows yaw and pitch but not roll.  It uses WM_KEYDOWN and </span>
<a name="l00205"></a>00205 <span class="comment">//       GetCursorPos() to respond to keyboard and mouse input and updates the </span>
<a name="l00206"></a>00206 <span class="comment">//       view matrix based on input.  </span>
<a name="l00207"></a>00207 <span class="comment">//--------------------------------------------------------------------------------------</span>
<a name="l00208"></a><a class="code" href="class_c_first_person_camera.html">00208</a> <span class="keyword">class </span><a class="code" href="class_c_first_person_camera.html">CFirstPersonCamera</a> : <span class="keyword">public</span> <a class="code" href="class_c_base_camera.html">CBaseCamera</a>
<a name="l00209"></a>00209 {
<a name="l00210"></a>00210 <span class="keyword">public</span>:
<a name="l00211"></a>00211                     <a class="code" href="class_c_first_person_camera.html#0c277136d6a3593f8206428eb37e0500">CFirstPersonCamera</a>();
<a name="l00212"></a>00212 
<a name="l00213"></a>00213     <span class="comment">// Call these from client and use Get*Matrix() to read new matrices</span>
<a name="l00214"></a>00214     <span class="keyword">virtual</span> <span class="keywordtype">void</span>    <a class="code" href="class_c_first_person_camera.html#86e482e92a7a17db600e82ad9a29ca01">FrameMove</a>( FLOAT fElapsedTime );
<a name="l00215"></a>00215 
<a name="l00216"></a>00216     <span class="comment">// Functions to change behavior</span>
<a name="l00217"></a>00217     <span class="keywordtype">void</span>            <a class="code" href="class_c_first_person_camera.html#96068a7b6bd4cdeeedc72877dba948dc">SetRotateButtons</a>( <span class="keywordtype">bool</span> bLeft, <span class="keywordtype">bool</span> bMiddle, <span class="keywordtype">bool</span> bRight, <span class="keywordtype">bool</span> bRotateWithoutButtonDown = <span class="keyword">false</span> );
<a name="l00218"></a>00218 
<a name="l00219"></a>00219     <span class="comment">// Functions to get state</span>
<a name="l00220"></a><a class="code" href="class_c_first_person_camera.html#f24e375a682bac077ab06c24a22870e3">00220</a>     D3DXMATRIX*  <a class="code" href="class_c_first_person_camera.html#f24e375a682bac077ab06c24a22870e3">GetWorldMatrix</a>()            { <span class="keywordflow">return</span> &amp;<a class="code" href="class_c_first_person_camera.html#4065145f014e4ea76ad27537418fd34e">m_mCameraWorld</a>; }
<a name="l00221"></a>00221 
<a name="l00222"></a><a class="code" href="class_c_first_person_camera.html#0ca46ea7c1d52786b1f149b4a12be986">00222</a>     <span class="keyword">const</span> D3DXVECTOR3* <a class="code" href="class_c_first_person_camera.html#0ca46ea7c1d52786b1f149b4a12be986">GetWorldRight</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (D3DXVECTOR3*)&amp;<a class="code" href="class_c_first_person_camera.html#4065145f014e4ea76ad27537418fd34e">m_mCameraWorld</a>._11; } 
<a name="l00223"></a><a class="code" href="class_c_first_person_camera.html#db1c6d58d95eb38416facd8217d9e565">00223</a>     <span class="keyword">const</span> D3DXVECTOR3* <a class="code" href="class_c_first_person_camera.html#db1c6d58d95eb38416facd8217d9e565">GetWorldUp</a>()<span class="keyword"> const    </span>{ <span class="keywordflow">return</span> (D3DXVECTOR3*)&amp;<a class="code" href="class_c_first_person_camera.html#4065145f014e4ea76ad27537418fd34e">m_mCameraWorld</a>._21; }
<a name="l00224"></a><a class="code" href="class_c_first_person_camera.html#b672fff686f1f13a88997176bdd2bd04">00224</a>     <span class="keyword">const</span> D3DXVECTOR3* <a class="code" href="class_c_first_person_camera.html#b672fff686f1f13a88997176bdd2bd04">GetWorldAhead</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (D3DXVECTOR3*)&amp;<a class="code" href="class_c_first_person_camera.html#4065145f014e4ea76ad27537418fd34e">m_mCameraWorld</a>._31; }
<a name="l00225"></a><a class="code" href="class_c_first_person_camera.html#0191f784e950825ac77825ef5c3b6295">00225</a>     <span class="keyword">const</span> D3DXVECTOR3* <a class="code" href="class_c_first_person_camera.html#0191f784e950825ac77825ef5c3b6295">GetEyePt</a>()<span class="keyword"> const      </span>{ <span class="keywordflow">return</span> (D3DXVECTOR3*)&amp;<a class="code" href="class_c_first_person_camera.html#4065145f014e4ea76ad27537418fd34e">m_mCameraWorld</a>._41; }
<a name="l00226"></a>00226 
<a name="l00227"></a>00227 <span class="keyword">protected</span>:
<a name="l00228"></a><a class="code" href="class_c_first_person_camera.html#4065145f014e4ea76ad27537418fd34e">00228</a>     D3DXMATRIX <a class="code" href="class_c_first_person_camera.html#4065145f014e4ea76ad27537418fd34e">m_mCameraWorld</a>;       <span class="comment">// World matrix of the camera (inverse of the view matrix)</span>
<a name="l00229"></a>00229 
<a name="l00230"></a><a class="code" href="class_c_first_person_camera.html#443dce2d48aa73eaecffd696eed9bd94">00230</a>     <span class="keywordtype">int</span> <a class="code" href="class_c_first_person_camera.html#443dce2d48aa73eaecffd696eed9bd94">m_nActiveButtonMask</a>;  <span class="comment">// Mask to determine which button to enable for rotation</span>
<a name="l00231"></a><a class="code" href="class_c_first_person_camera.html#5fbd2d7347724f3d22c2ff78d9547c52">00231</a>     <span class="keywordtype">bool</span> <a class="code" href="class_c_first_person_camera.html#5fbd2d7347724f3d22c2ff78d9547c52">m_bRotateWithoutButtonDown</a>;
<a name="l00232"></a>00232 };
<a name="l00233"></a>00233 
<a name="l00234"></a>00234 
<a name="l00235"></a>00235 <span class="comment">//--------------------------------------------------------------------------------------</span>
<a name="l00236"></a>00236 <span class="comment">// Simple model viewing camera class that rotates around the object.</span>
<a name="l00237"></a>00237 <span class="comment">//--------------------------------------------------------------------------------------</span>
<a name="l00238"></a><a class="code" href="class_c_model_viewer_camera.html">00238</a> <span class="keyword">class </span><a class="code" href="class_c_model_viewer_camera.html">CModelViewerCamera</a> : <span class="keyword">public</span> <a class="code" href="class_c_base_camera.html">CBaseCamera</a>
<a name="l00239"></a>00239 {
<a name="l00240"></a>00240 <span class="keyword">public</span>:
<a name="l00241"></a>00241                     <a class="code" href="class_c_model_viewer_camera.html#6e6f27ab21440758f97e0069a14a41a1">CModelViewerCamera</a>();
<a name="l00242"></a>00242 
<a name="l00243"></a>00243     <span class="comment">// Call these from client and use Get*Matrix() to read new matrices</span>
<a name="l00244"></a>00244     <span class="keyword">virtual</span> LRESULT <a class="code" href="class_c_model_viewer_camera.html#d50f3bd74420f1ee3c0b6ca9ac3ec348">HandleMessages</a>( HWND hWnd, <a class="code" href="_d_x_u_tmisc_8cpp.html#cc62206430baf174f43edb2b0a26ffd0">UINT</a> uMsg, WPARAM wParam, LPARAM lParam );
<a name="l00245"></a>00245     <span class="keyword">virtual</span> <span class="keywordtype">void</span>    <a class="code" href="class_c_model_viewer_camera.html#5309ad1ff0044124c05737da466b7315">FrameMove</a>( FLOAT fElapsedTime );
<a name="l00246"></a>00246 
<a name="l00247"></a>00247 
<a name="l00248"></a>00248     <span class="comment">// Functions to change behavior</span>
<a name="l00249"></a>00249     <span class="keyword">virtual</span> <span class="keywordtype">void</span>    <a class="code" href="class_c_model_viewer_camera.html#ecba47f0c48401639138f602d3ed28bd">SetDragRect</a>( RECT&amp; rc );
<a name="l00250"></a>00250     <span class="keywordtype">void</span>            <a class="code" href="class_c_model_viewer_camera.html#64f3b265b831578d24faadec70f9dc1b">Reset</a>();
<a name="l00251"></a>00251     <span class="keywordtype">void</span>            <a class="code" href="class_c_model_viewer_camera.html#3cfc3e0fd350457b4206054c96fc39f7">SetViewParams</a>( D3DXVECTOR3* pvEyePt, D3DXVECTOR3* pvLookatPt );
<a name="l00252"></a><a class="code" href="class_c_model_viewer_camera.html#999c8bce2cb411f5b674a81f230dff96">00252</a>     <span class="keywordtype">void</span> <a class="code" href="class_c_model_viewer_camera.html#999c8bce2cb411f5b674a81f230dff96">SetButtonMasks</a>( <span class="keywordtype">int</span> nRotateModelButtonMask = <a class="code" href="_d_x_u_tcamera_8h.html#fb42537b362f394ed4db90fd34c87330">MOUSE_LEFT_BUTTON</a>, <span class="keywordtype">int</span> nZoomButtonMask = <a class="code" href="_d_x_u_tcamera_8h.html#941896ca7c68c553dc4d9e7b79f0eb11">MOUSE_WHEEL</a>, <span class="keywordtype">int</span> nRotateCameraButtonMask = <a class="code" href="_d_x_u_tcamera_8h.html#a1092e0190b6ee5bc6733943d970fed7">MOUSE_RIGHT_BUTTON</a> ) { <a class="code" href="class_c_model_viewer_camera.html#afcc769eecc0ceda551ee2d7a22e737c">m_nRotateModelButtonMask</a> = nRotateModelButtonMask, <a class="code" href="class_c_model_viewer_camera.html#e3bcc79eeae8fa5e20a0369df120f1de">m_nZoomButtonMask</a> = nZoomButtonMask; <a class="code" href="class_c_model_viewer_camera.html#4bc7721e96a2d3380c5612c67f02101e">m_nRotateCameraButtonMask</a> = nRotateCameraButtonMask; }
<a name="l00253"></a><a class="code" href="class_c_model_viewer_camera.html#cb49faefb46c891fcbf9f96529d96c19">00253</a>     <span class="keywordtype">void</span> <a class="code" href="class_c_model_viewer_camera.html#cb49faefb46c891fcbf9f96529d96c19">SetAttachCameraToModel</a>( <span class="keywordtype">bool</span> bEnable = <span class="keyword">false</span> ) { <a class="code" href="class_c_model_viewer_camera.html#c56eaab097df2ea4538f34fe1c9d7d49">m_bAttachCameraToModel</a> = bEnable; }
<a name="l00254"></a><a class="code" href="class_c_model_viewer_camera.html#a3602c760615115aa606cc3dfe9675fc">00254</a>     <span class="keywordtype">void</span> <a class="code" href="class_c_model_viewer_camera.html#a3602c760615115aa606cc3dfe9675fc">SetWindow</a>( <span class="keywordtype">int</span> nWidth, <span class="keywordtype">int</span> nHeight, <span class="keywordtype">float</span> fArcballRadius=0.9f ) { <a class="code" href="class_c_model_viewer_camera.html#0afd3536bbea8ac01986f9e08af5e0bf">m_WorldArcBall</a>.<a class="code" href="class_c_d3_d_arc_ball.html#ac7e91ff2fb6770b18b62b7eaecba6c4">SetWindow</a>( nWidth, nHeight, fArcballRadius ); <a class="code" href="class_c_model_viewer_camera.html#43d5ee29ecdd8f85f55cb0e1b7f5ec13">m_ViewArcBall</a>.<a class="code" href="class_c_d3_d_arc_ball.html#ac7e91ff2fb6770b18b62b7eaecba6c4">SetWindow</a>( nWidth, nHeight, fArcballRadius ); }
<a name="l00255"></a><a class="code" href="class_c_model_viewer_camera.html#e86762ee234412b6a0947b791d7be2d3">00255</a>     <span class="keywordtype">void</span> <a class="code" href="class_c_model_viewer_camera.html#e86762ee234412b6a0947b791d7be2d3">SetRadius</a>( <span class="keywordtype">float</span> fDefaultRadius=5.0f, <span class="keywordtype">float</span> fMinRadius=1.0f, <span class="keywordtype">float</span> fMaxRadius=FLT_MAX  ) { <a class="code" href="class_c_model_viewer_camera.html#122bcab6c9a503056de43140a730e511">m_fDefaultRadius</a> = <a class="code" href="class_c_model_viewer_camera.html#5a8802fe2b98550e3f3ecfee32fc1f8e">m_fRadius</a> = fDefaultRadius; <a class="code" href="class_c_model_viewer_camera.html#7e9a0f1881fc1b7b3c31db3270d54e06">m_fMinRadius</a> = fMinRadius; <a class="code" href="class_c_model_viewer_camera.html#9f414b154917b367fc6cc766fd2d7691">m_fMaxRadius</a> = fMaxRadius; <a class="code" href="class_c_model_viewer_camera.html#6b6d1199533d68ab4168d9d6a306a9bb">m_bDragSinceLastUpdate</a> = <span class="keyword">true</span>; }
<a name="l00256"></a><a class="code" href="class_c_model_viewer_camera.html#e1511eb18ef5ec36904ba2f6819e26f2">00256</a>     <span class="keywordtype">void</span> <a class="code" href="class_c_model_viewer_camera.html#e1511eb18ef5ec36904ba2f6819e26f2">SetModelCenter</a>( D3DXVECTOR3 vModelCenter ) { <a class="code" href="class_c_model_viewer_camera.html#ce6a5534406f4dcb72515a15e1e1b4e3">m_vModelCenter</a> = vModelCenter; }
<a name="l00257"></a><a class="code" href="class_c_model_viewer_camera.html#dccbf68ed56b3d7204366dd8702912b4">00257</a>     <span class="keywordtype">void</span> <a class="code" href="class_c_model_viewer_camera.html#dccbf68ed56b3d7204366dd8702912b4">SetLimitPitch</a>( <span class="keywordtype">bool</span> bLimitPitch ) { <a class="code" href="class_c_model_viewer_camera.html#a33a42faf6ef232889e94c30246043a0">m_bLimitPitch</a> = bLimitPitch; }
<a name="l00258"></a><a class="code" href="class_c_model_viewer_camera.html#66a842563bb9078bfa641bf6f1190818">00258</a>     <span class="keywordtype">void</span> <a class="code" href="class_c_model_viewer_camera.html#66a842563bb9078bfa641bf6f1190818">SetViewQuat</a>( D3DXQUATERNION q ) { <a class="code" href="class_c_model_viewer_camera.html#43d5ee29ecdd8f85f55cb0e1b7f5ec13">m_ViewArcBall</a>.<a class="code" href="class_c_d3_d_arc_ball.html#d3140af4e1b4f62a18238ac2991de9a6">SetQuatNow</a>( q ); <a class="code" href="class_c_model_viewer_camera.html#6b6d1199533d68ab4168d9d6a306a9bb">m_bDragSinceLastUpdate</a> = <span class="keyword">true</span>; }
<a name="l00259"></a><a class="code" href="class_c_model_viewer_camera.html#48515af5127c1647621df308171d72d4">00259</a>     <span class="keywordtype">void</span> <a class="code" href="class_c_model_viewer_camera.html#48515af5127c1647621df308171d72d4">SetWorldQuat</a>( D3DXQUATERNION q ) { <a class="code" href="class_c_model_viewer_camera.html#0afd3536bbea8ac01986f9e08af5e0bf">m_WorldArcBall</a>.<a class="code" href="class_c_d3_d_arc_ball.html#d3140af4e1b4f62a18238ac2991de9a6">SetQuatNow</a>( q ); <a class="code" href="class_c_model_viewer_camera.html#6b6d1199533d68ab4168d9d6a306a9bb">m_bDragSinceLastUpdate</a> = <span class="keyword">true</span>; }
<a name="l00260"></a>00260 
<a name="l00261"></a>00261     <span class="comment">// Functions to get state</span>
<a name="l00262"></a><a class="code" href="class_c_model_viewer_camera.html#df18f000e0d304a5172424ad4151ddb6">00262</a>     <span class="keyword">const</span> D3DXMATRIX* <a class="code" href="class_c_model_viewer_camera.html#df18f000e0d304a5172424ad4151ddb6">GetWorldMatrix</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> &amp;<a class="code" href="class_c_model_viewer_camera.html#047ed680fbcbebef4d83f56e2f414078">m_mWorld</a>; }
<a name="l00263"></a><a class="code" href="class_c_model_viewer_camera.html#b5316accb7dfb3fd30a98f2647cedca0">00263</a>     <span class="keywordtype">void</span> <a class="code" href="class_c_model_viewer_camera.html#b5316accb7dfb3fd30a98f2647cedca0">SetWorldMatrix</a>( D3DXMATRIX &amp;mWorld ) { <a class="code" href="class_c_model_viewer_camera.html#047ed680fbcbebef4d83f56e2f414078">m_mWorld</a> = mWorld; <a class="code" href="class_c_model_viewer_camera.html#6b6d1199533d68ab4168d9d6a306a9bb">m_bDragSinceLastUpdate</a> = <span class="keyword">true</span>; }
<a name="l00264"></a>00264 
<a name="l00265"></a>00265 <span class="keyword">protected</span>:
<a name="l00266"></a><a class="code" href="class_c_model_viewer_camera.html#0afd3536bbea8ac01986f9e08af5e0bf">00266</a>     <a class="code" href="class_c_d3_d_arc_ball.html">CD3DArcBall</a> <a class="code" href="class_c_model_viewer_camera.html#0afd3536bbea8ac01986f9e08af5e0bf">m_WorldArcBall</a>;
<a name="l00267"></a><a class="code" href="class_c_model_viewer_camera.html#43d5ee29ecdd8f85f55cb0e1b7f5ec13">00267</a>     <a class="code" href="class_c_d3_d_arc_ball.html">CD3DArcBall</a> <a class="code" href="class_c_model_viewer_camera.html#43d5ee29ecdd8f85f55cb0e1b7f5ec13">m_ViewArcBall</a>;
<a name="l00268"></a><a class="code" href="class_c_model_viewer_camera.html#ce6a5534406f4dcb72515a15e1e1b4e3">00268</a>     D3DXVECTOR3 <a class="code" href="class_c_model_viewer_camera.html#ce6a5534406f4dcb72515a15e1e1b4e3">m_vModelCenter</a>;
<a name="l00269"></a><a class="code" href="class_c_model_viewer_camera.html#753d010271571ac3d87acb1d062091b2">00269</a>     D3DXMATRIX <a class="code" href="class_c_model_viewer_camera.html#753d010271571ac3d87acb1d062091b2">m_mModelLastRot</a>;        <span class="comment">// Last arcball rotation matrix for model </span>
<a name="l00270"></a><a class="code" href="class_c_model_viewer_camera.html#e866118acbd31c4c57ee96a408567097">00270</a>     D3DXMATRIX <a class="code" href="class_c_model_viewer_camera.html#e866118acbd31c4c57ee96a408567097">m_mModelRot</a>;            <span class="comment">// Rotation matrix of model</span>
<a name="l00271"></a><a class="code" href="class_c_model_viewer_camera.html#047ed680fbcbebef4d83f56e2f414078">00271</a>     D3DXMATRIX <a class="code" href="class_c_model_viewer_camera.html#047ed680fbcbebef4d83f56e2f414078">m_mWorld</a>;               <span class="comment">// World matrix of model</span>
<a name="l00272"></a>00272 
<a name="l00273"></a><a class="code" href="class_c_model_viewer_camera.html#afcc769eecc0ceda551ee2d7a22e737c">00273</a>     <span class="keywordtype">int</span> <a class="code" href="class_c_model_viewer_camera.html#afcc769eecc0ceda551ee2d7a22e737c">m_nRotateModelButtonMask</a>;
<a name="l00274"></a><a class="code" href="class_c_model_viewer_camera.html#e3bcc79eeae8fa5e20a0369df120f1de">00274</a>     <span class="keywordtype">int</span> <a class="code" href="class_c_model_viewer_camera.html#e3bcc79eeae8fa5e20a0369df120f1de">m_nZoomButtonMask</a>;
<a name="l00275"></a><a class="code" href="class_c_model_viewer_camera.html#4bc7721e96a2d3380c5612c67f02101e">00275</a>     <span class="keywordtype">int</span> <a class="code" href="class_c_model_viewer_camera.html#4bc7721e96a2d3380c5612c67f02101e">m_nRotateCameraButtonMask</a>;
<a name="l00276"></a>00276 
<a name="l00277"></a><a class="code" href="class_c_model_viewer_camera.html#c56eaab097df2ea4538f34fe1c9d7d49">00277</a>     <span class="keywordtype">bool</span> <a class="code" href="class_c_model_viewer_camera.html#c56eaab097df2ea4538f34fe1c9d7d49">m_bAttachCameraToModel</a>;
<a name="l00278"></a><a class="code" href="class_c_model_viewer_camera.html#a33a42faf6ef232889e94c30246043a0">00278</a>     <span class="keywordtype">bool</span> <a class="code" href="class_c_model_viewer_camera.html#a33a42faf6ef232889e94c30246043a0">m_bLimitPitch</a>;
<a name="l00279"></a><a class="code" href="class_c_model_viewer_camera.html#5a8802fe2b98550e3f3ecfee32fc1f8e">00279</a>     <span class="keywordtype">float</span> <a class="code" href="class_c_model_viewer_camera.html#5a8802fe2b98550e3f3ecfee32fc1f8e">m_fRadius</a>;              <span class="comment">// Distance from the camera to model </span>
<a name="l00280"></a><a class="code" href="class_c_model_viewer_camera.html#122bcab6c9a503056de43140a730e511">00280</a>     <span class="keywordtype">float</span> <a class="code" href="class_c_model_viewer_camera.html#122bcab6c9a503056de43140a730e511">m_fDefaultRadius</a>;       <span class="comment">// Distance from the camera to model </span>
<a name="l00281"></a><a class="code" href="class_c_model_viewer_camera.html#7e9a0f1881fc1b7b3c31db3270d54e06">00281</a>     <span class="keywordtype">float</span> <a class="code" href="class_c_model_viewer_camera.html#7e9a0f1881fc1b7b3c31db3270d54e06">m_fMinRadius</a>;           <span class="comment">// Min radius</span>
<a name="l00282"></a><a class="code" href="class_c_model_viewer_camera.html#9f414b154917b367fc6cc766fd2d7691">00282</a>     <span class="keywordtype">float</span> <a class="code" href="class_c_model_viewer_camera.html#9f414b154917b367fc6cc766fd2d7691">m_fMaxRadius</a>;           <span class="comment">// Max radius</span>
<a name="l00283"></a><a class="code" href="class_c_model_viewer_camera.html#6b6d1199533d68ab4168d9d6a306a9bb">00283</a>     <span class="keywordtype">bool</span> <a class="code" href="class_c_model_viewer_camera.html#6b6d1199533d68ab4168d9d6a306a9bb">m_bDragSinceLastUpdate</a>; <span class="comment">// True if mouse drag has happened since last time FrameMove is called.</span>
<a name="l00284"></a>00284 
<a name="l00285"></a><a class="code" href="class_c_model_viewer_camera.html#4beb0065dc8aca02d996b009caf82739">00285</a>     D3DXMATRIX <a class="code" href="class_c_model_viewer_camera.html#4beb0065dc8aca02d996b009caf82739">m_mCameraRotLast</a>;
<a name="l00286"></a>00286 
<a name="l00287"></a>00287 };
<a name="l00288"></a>00288 
<a name="l00289"></a>00289 <span class="comment">//--------------------------------------------------------------------------------------</span>
<a name="l00290"></a>00290 <span class="comment">// Manages the mesh, direction, mouse events of a directional arrow that </span>
<a name="l00291"></a>00291 <span class="comment">// rotates around a radius controlled by an arcball </span>
<a name="l00292"></a>00292 <span class="comment">//--------------------------------------------------------------------------------------</span>
<a name="l00293"></a><a class="code" href="class_c_d_x_u_t_direction_widget.html">00293</a> <span class="keyword">class </span><a class="code" href="class_c_d_x_u_t_direction_widget.html">CDXUTDirectionWidget</a>
<a name="l00294"></a>00294 {
<a name="l00295"></a>00295 <span class="keyword">public</span>:
<a name="l00296"></a>00296                             <a class="code" href="class_c_d_x_u_t_direction_widget.html#b7899fd28008dba0d9e116c4c122e379">CDXUTDirectionWidget</a>();
<a name="l00297"></a>00297 
<a name="l00298"></a>00298     <span class="keyword">static</span> <a class="code" href="_d_x_u_tmisc_8cpp.html#e9905dd312196943149d3fe63480cd02">HRESULT</a> WINAPI   <a class="code" href="class_c_d_x_u_t_direction_widget.html#218b1161c55e7427e85665a14f286799">StaticOnD3D9CreateDevice</a>( IDirect3DDevice9* pd3dDevice );
<a name="l00299"></a>00299     <a class="code" href="_d_x_u_tmisc_8cpp.html#e9905dd312196943149d3fe63480cd02">HRESULT</a>                 <a class="code" href="class_c_d_x_u_t_direction_widget.html#74f7b9ebd8c16ee2ab2d978968b90678">OnD3D9ResetDevice</a>( <span class="keyword">const</span> D3DSURFACE_DESC* pBackBufferSurfaceDesc );
<a name="l00300"></a>00300     <a class="code" href="_d_x_u_tmisc_8cpp.html#e9905dd312196943149d3fe63480cd02">HRESULT</a> <a class="code" href="class_c_d_x_u_t_direction_widget.html#3393973d4d9764916e4cd2815d55aa7f">OnRender9</a>( D3DXCOLOR <a class="code" href="_ime_ui_8cpp.html#8fa15eb05a32cc28cc8832d40cff00bd">color</a>, <span class="keyword">const</span> D3DXMATRIX* pmView, <span class="keyword">const</span> D3DXMATRIX* pmProj, <span class="keyword">const</span> D3DXVECTOR3* pEyePt );
<a name="l00301"></a>00301     LRESULT                 <a class="code" href="class_c_d_x_u_t_direction_widget.html#a31062654d6963e8c763626b2413e2c4">HandleMessages</a>( HWND hWnd, <a class="code" href="_d_x_u_tmisc_8cpp.html#cc62206430baf174f43edb2b0a26ffd0">UINT</a> uMsg, WPARAM wParam, LPARAM lParam );
<a name="l00302"></a>00302     <span class="keyword">static</span> <span class="keywordtype">void</span> WINAPI      <a class="code" href="class_c_d_x_u_t_direction_widget.html#556a5e11a885f36be67ba2b082490451">StaticOnD3D9LostDevice</a>();
<a name="l00303"></a>00303     <span class="keyword">static</span> <span class="keywordtype">void</span> WINAPI      <a class="code" href="class_c_d_x_u_t_direction_widget.html#552783ed575f96985f2f7530d9757b98">StaticOnD3D9DestroyDevice</a>();
<a name="l00304"></a>00304 
<a name="l00305"></a>00305     <span class="keyword">static</span> <a class="code" href="_d_x_u_tmisc_8cpp.html#e9905dd312196943149d3fe63480cd02">HRESULT</a> WINAPI   <a class="code" href="class_c_d_x_u_t_direction_widget.html#0ca2b102b29437b69fe7bb708be1f4a6">StaticOnD3D10CreateDevice</a>( ID3D10Device* pd3dDevice );
<a name="l00306"></a>00306     <a class="code" href="_d_x_u_tmisc_8cpp.html#e9905dd312196943149d3fe63480cd02">HRESULT</a> <a class="code" href="class_c_d_x_u_t_direction_widget.html#b24da6a3bb7bdb77cce5827e11f7ca94">OnRender10</a>( D3DXCOLOR color, <span class="keyword">const</span> D3DXMATRIX* pmView, <span class="keyword">const</span> D3DXMATRIX* pmProj, <span class="keyword">const</span> D3DXVECTOR3* pEyePt );
<a name="l00307"></a>00307     <span class="keyword">static</span> <span class="keywordtype">void</span> WINAPI      <a class="code" href="class_c_d_x_u_t_direction_widget.html#f13182c44c2c0b9e9cf0715c285f7608">StaticOnD3D10DestroyDevice</a>();
<a name="l00308"></a>00308 
<a name="l00309"></a><a class="code" href="class_c_d_x_u_t_direction_widget.html#d9b37b2fd57967a6284cb56abe1c5e3a">00309</a>     D3DXVECTOR3 <a class="code" href="class_c_d_x_u_t_direction_widget.html#d9b37b2fd57967a6284cb56abe1c5e3a">GetLightDirection</a>()         { <span class="keywordflow">return</span> <a class="code" href="class_c_d_x_u_t_direction_widget.html#2e519446bb939006632aeeb310ae2405">m_vCurrentDir</a>; };
<a name="l00310"></a><a class="code" href="class_c_d_x_u_t_direction_widget.html#05adf625e2a190ed1e238ddf1879e924">00310</a>     <span class="keywordtype">void</span>        <a class="code" href="class_c_d_x_u_t_direction_widget.html#05adf625e2a190ed1e238ddf1879e924">SetLightDirection</a>( D3DXVECTOR3 vDir ) { <a class="code" href="class_c_d_x_u_t_direction_widget.html#856d335ef4da33a0e9e2e0eed0cf3d04">m_vDefaultDir</a> = <a class="code" href="class_c_d_x_u_t_direction_widget.html#2e519446bb939006632aeeb310ae2405">m_vCurrentDir</a> = vDir; };
<a name="l00311"></a><a class="code" href="class_c_d_x_u_t_direction_widget.html#00effccf13b6c745ab7e3d327a147074">00311</a>     <span class="keywordtype">void</span>        <a class="code" href="class_c_d_x_u_t_direction_widget.html#00effccf13b6c745ab7e3d327a147074">SetButtonMask</a>( <span class="keywordtype">int</span> nRotate = <a class="code" href="_d_x_u_tcamera_8h.html#a1092e0190b6ee5bc6733943d970fed7">MOUSE_RIGHT_BUTTON</a> ) { <a class="code" href="class_c_d_x_u_t_direction_widget.html#949513e0f0d9c14a68b734019244bafc">m_nRotateMask</a> = nRotate; }
<a name="l00312"></a>00312 
<a name="l00313"></a><a class="code" href="class_c_d_x_u_t_direction_widget.html#6d6a395df8932ae372b2f7eea3b17f00">00313</a>     <span class="keywordtype">float</span> <a class="code" href="class_c_d_x_u_t_direction_widget.html#6d6a395df8932ae372b2f7eea3b17f00">GetRadius</a>()                 { <span class="keywordflow">return</span> <a class="code" href="class_c_d_x_u_t_direction_widget.html#038de5f37cfd414d3abaa1f841d74235">m_fRadius</a>; };
<a name="l00314"></a><a class="code" href="class_c_d_x_u_t_direction_widget.html#ddcf13e0f53367fc773228c987bae9b9">00314</a>     <span class="keywordtype">void</span>  <a class="code" href="class_c_d_x_u_t_direction_widget.html#ddcf13e0f53367fc773228c987bae9b9">SetRadius</a>( <span class="keywordtype">float</span> fRadius )  { <a class="code" href="class_c_d_x_u_t_direction_widget.html#038de5f37cfd414d3abaa1f841d74235">m_fRadius</a> = fRadius; };
<a name="l00315"></a>00315 
<a name="l00316"></a><a class="code" href="class_c_d_x_u_t_direction_widget.html#9705e4cdb115b728a6a87d3d535ec64c">00316</a>     <span class="keywordtype">bool</span>  <a class="code" href="class_c_d_x_u_t_direction_widget.html#9705e4cdb115b728a6a87d3d535ec64c">IsBeingDragged</a>() { <span class="keywordflow">return</span> <a class="code" href="class_c_d_x_u_t_direction_widget.html#36404bb48b163d884cef2f72dfa05d2c">m_ArcBall</a>.<a class="code" href="class_c_d3_d_arc_ball.html#c7ca13b553ce0ecce4d375697d0866e3">IsBeingDragged</a>(); };
<a name="l00317"></a>00317 
<a name="l00318"></a>00318 <span class="keyword">protected</span>:
<a name="l00319"></a>00319     <a class="code" href="_d_x_u_tmisc_8cpp.html#e9905dd312196943149d3fe63480cd02">HRESULT</a>                 <a class="code" href="class_c_d_x_u_t_direction_widget.html#35dd2b18e3169755c5d13cb4b8da8ec6">UpdateLightDir</a>();
<a name="l00320"></a>00320 
<a name="l00321"></a>00321     <span class="comment">// D3D9 objects</span>
<a name="l00322"></a><a class="code" href="class_c_d_x_u_t_direction_widget.html#e59a62b42a0dc54399f3ee2c977a578c">00322</a>     <span class="keyword">static</span> IDirect3DDevice9* <a class="code" href="class_c_d_x_u_t_direction_widget.html#e59a62b42a0dc54399f3ee2c977a578c">s_pd3d9Device</a>;
<a name="l00323"></a><a class="code" href="class_c_d_x_u_t_direction_widget.html#53a2f333bbba78dcaad4287329f851db">00323</a>     <span class="keyword">static</span> ID3DXEffect* <a class="code" href="class_c_d_x_u_t_direction_widget.html#53a2f333bbba78dcaad4287329f851db">s_pD3D9Effect</a>;
<a name="l00324"></a><a class="code" href="class_c_d_x_u_t_direction_widget.html#adadd6cc9848f163c45569246058083d">00324</a>     <span class="keyword">static</span> ID3DXMesh* <a class="code" href="class_c_d_x_u_t_direction_widget.html#adadd6cc9848f163c45569246058083d">s_pD3D9Mesh</a>;
<a name="l00325"></a><a class="code" href="class_c_d_x_u_t_direction_widget.html#05d884888e1731fed6c247d0203706a6">00325</a>     <span class="keyword">static</span> D3DXHANDLE <a class="code" href="class_c_d_x_u_t_direction_widget.html#05d884888e1731fed6c247d0203706a6">s_hRenderWith1LightNoTexture</a>;
<a name="l00326"></a><a class="code" href="class_c_d_x_u_t_direction_widget.html#ed28d4a1c89ce1f9a7743e93993c4757">00326</a>     <span class="keyword">static</span> D3DXHANDLE <a class="code" href="class_c_d_x_u_t_direction_widget.html#ed28d4a1c89ce1f9a7743e93993c4757">s_hMaterialDiffuseColor</a>;
<a name="l00327"></a><a class="code" href="class_c_d_x_u_t_direction_widget.html#d6b6e799578cfb9ccf5403ebbdd0003a">00327</a>     <span class="keyword">static</span> D3DXHANDLE <a class="code" href="class_c_d_x_u_t_direction_widget.html#d6b6e799578cfb9ccf5403ebbdd0003a">s_hLightDir</a>;
<a name="l00328"></a><a class="code" href="class_c_d_x_u_t_direction_widget.html#516c0d74de5a486ceb04ee95fa62d40f">00328</a>     <span class="keyword">static</span> D3DXHANDLE <a class="code" href="class_c_d_x_u_t_direction_widget.html#516c0d74de5a486ceb04ee95fa62d40f">s_hWorldViewProjection</a>;
<a name="l00329"></a><a class="code" href="class_c_d_x_u_t_direction_widget.html#ba967fbf194a2c45e904fabb1ad73068">00329</a>     <span class="keyword">static</span> D3DXHANDLE <a class="code" href="class_c_d_x_u_t_direction_widget.html#ba967fbf194a2c45e904fabb1ad73068">s_hWorld</a>;
<a name="l00330"></a>00330 
<a name="l00331"></a>00331     <span class="comment">// D3D10 objects</span>
<a name="l00332"></a><a class="code" href="class_c_d_x_u_t_direction_widget.html#b9d390e7a3e24315c09aa7313fcf9e62">00332</a>     <span class="keyword">static</span> ID3D10Device* <a class="code" href="class_c_d_x_u_t_direction_widget.html#b9d390e7a3e24315c09aa7313fcf9e62">s_pd3d10Device</a>;
<a name="l00333"></a><a class="code" href="class_c_d_x_u_t_direction_widget.html#6e2b1e091cd729bbc3b1a3353b46c205">00333</a>     <span class="keyword">static</span> ID3D10Effect* <a class="code" href="class_c_d_x_u_t_direction_widget.html#6e2b1e091cd729bbc3b1a3353b46c205">s_pD3D10Effect</a>;
<a name="l00334"></a>00334     <span class="comment">//TODO: add some sort of d3d10 mesh object here</span>
<a name="l00335"></a><a class="code" href="class_c_d_x_u_t_direction_widget.html#a1a891d2776d7acd6c625d5304ca9ac6">00335</a>     <span class="keyword">static</span> ID3D10InputLayout* <a class="code" href="class_c_d_x_u_t_direction_widget.html#a1a891d2776d7acd6c625d5304ca9ac6">s_pVertexLayout</a>;
<a name="l00336"></a><a class="code" href="class_c_d_x_u_t_direction_widget.html#c39ba9636feefb6f3b0e112f3faea382">00336</a>     <span class="keyword">static</span> ID3D10EffectTechnique* <a class="code" href="class_c_d_x_u_t_direction_widget.html#c39ba9636feefb6f3b0e112f3faea382">s_pRenderTech</a>;
<a name="l00337"></a><a class="code" href="class_c_d_x_u_t_direction_widget.html#a39f1fbac92d364006db8a29ab1df1e4">00337</a>     <span class="keyword">static</span> ID3D10EffectVectorVariable* <a class="code" href="class_c_d_x_u_t_direction_widget.html#a39f1fbac92d364006db8a29ab1df1e4">g_pMaterialDiffuseColor</a>;
<a name="l00338"></a><a class="code" href="class_c_d_x_u_t_direction_widget.html#a207d3e7728a5dcc24a6c26ca9d525b7">00338</a>     <span class="keyword">static</span> ID3D10EffectVectorVariable* <a class="code" href="class_c_d_x_u_t_direction_widget.html#a207d3e7728a5dcc24a6c26ca9d525b7">g_pLightDir</a>;
<a name="l00339"></a><a class="code" href="class_c_d_x_u_t_direction_widget.html#85105efdc2e58429fd39e3224272e983">00339</a>     <span class="keyword">static</span> ID3D10EffectMatrixVariable* <a class="code" href="class_c_d_x_u_t_direction_widget.html#85105efdc2e58429fd39e3224272e983">g_pmWorld</a>;
<a name="l00340"></a><a class="code" href="class_c_d_x_u_t_direction_widget.html#dfc54de9e12f68654b668f009d36830c">00340</a>     <span class="keyword">static</span> ID3D10EffectMatrixVariable* <a class="code" href="class_c_d_x_u_t_direction_widget.html#dfc54de9e12f68654b668f009d36830c">g_pmWorldViewProjection</a>;
<a name="l00341"></a>00341 
<a name="l00342"></a><a class="code" href="class_c_d_x_u_t_direction_widget.html#cd8ea6dfee9ad0593f1dc33a9c6b27ba">00342</a>     D3DXMATRIXA16 <a class="code" href="class_c_d_x_u_t_direction_widget.html#cd8ea6dfee9ad0593f1dc33a9c6b27ba">m_mRot</a>;
<a name="l00343"></a><a class="code" href="class_c_d_x_u_t_direction_widget.html#7f48a9c9e0aecffeb01cfbbad4e2736c">00343</a>     D3DXMATRIXA16 <a class="code" href="class_c_d_x_u_t_direction_widget.html#7f48a9c9e0aecffeb01cfbbad4e2736c">m_mRotSnapshot</a>;
<a name="l00344"></a><a class="code" href="class_c_d_x_u_t_direction_widget.html#038de5f37cfd414d3abaa1f841d74235">00344</a>     <span class="keywordtype">float</span> <a class="code" href="class_c_d_x_u_t_direction_widget.html#038de5f37cfd414d3abaa1f841d74235">m_fRadius</a>;
<a name="l00345"></a><a class="code" href="class_c_d_x_u_t_direction_widget.html#949513e0f0d9c14a68b734019244bafc">00345</a>     <span class="keywordtype">int</span> <a class="code" href="class_c_d_x_u_t_direction_widget.html#949513e0f0d9c14a68b734019244bafc">m_nRotateMask</a>;
<a name="l00346"></a><a class="code" href="class_c_d_x_u_t_direction_widget.html#36404bb48b163d884cef2f72dfa05d2c">00346</a>     <a class="code" href="class_c_d3_d_arc_ball.html">CD3DArcBall</a> <a class="code" href="class_c_d_x_u_t_direction_widget.html#36404bb48b163d884cef2f72dfa05d2c">m_ArcBall</a>;
<a name="l00347"></a><a class="code" href="class_c_d_x_u_t_direction_widget.html#856d335ef4da33a0e9e2e0eed0cf3d04">00347</a>     D3DXVECTOR3 <a class="code" href="class_c_d_x_u_t_direction_widget.html#856d335ef4da33a0e9e2e0eed0cf3d04">m_vDefaultDir</a>;
<a name="l00348"></a><a class="code" href="class_c_d_x_u_t_direction_widget.html#2e519446bb939006632aeeb310ae2405">00348</a>     D3DXVECTOR3 <a class="code" href="class_c_d_x_u_t_direction_widget.html#2e519446bb939006632aeeb310ae2405">m_vCurrentDir</a>;
<a name="l00349"></a><a class="code" href="class_c_d_x_u_t_direction_widget.html#fb92062e4b1ce5678298d653cbe3775c">00349</a>     D3DXMATRIX <a class="code" href="class_c_d_x_u_t_direction_widget.html#fb92062e4b1ce5678298d653cbe3775c">m_mView</a>;
<a name="l00350"></a>00350 };
<a name="l00351"></a>00351 
<a name="l00352"></a>00352 
<a name="l00353"></a>00353 
<a name="l00354"></a>00354 <span class="preprocessor">#endif</span>
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Sat Apr 18 14:13:37 2009 for MultiAnimTest by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
