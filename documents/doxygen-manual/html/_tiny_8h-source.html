<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>MultiAnimTest: C:/Documents and Settings/Lic/My Documents/Visual Studio 2008/Projects/DirectXSamples/MultiAnimation/Tiny.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>C:/Documents and Settings/Lic/My Documents/Visual Studio 2008/Projects/DirectXSamples/MultiAnimation/Tiny.h</h1><a href="_tiny_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00002"></a>00002 <span class="comment">// File: Tiny.h</span>
<a name="l00003"></a>00003 <span class="comment">//</span>
<a name="l00004"></a>00004 <span class="comment">// Desc: Header file for the CTiny class.  Its declaraction is found here.</span>
<a name="l00005"></a>00005 <span class="comment">//</span>
<a name="l00006"></a>00006 <span class="comment">// Copyright (c) Microsoft Corporation. All rights reserved</span>
<a name="l00007"></a>00007 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00008"></a>00008 
<a name="l00009"></a>00009 
<a name="l00010"></a>00010 <span class="preprocessor">#ifndef TINY_H</span>
<a name="l00011"></a>00011 <span class="preprocessor"></span><span class="preprocessor">#define TINY_H</span>
<a name="l00012"></a>00012 <span class="preprocessor"></span>
<a name="l00013"></a>00013 <span class="preprocessor">#include "<a class="code" href="_s_d_ksound_8h.html">SDKsound.h</a>"</span>
<a name="l00014"></a>00014 
<a name="l00015"></a><a class="code" href="_tiny_8h.html#bf5b7b588c3b6a1562e761e36e8e1f38">00015</a> <span class="preprocessor">#define IDLE_TRANSITION_TIME 0.125f</span>
<a name="l00016"></a><a class="code" href="_tiny_8h.html#20732cdeb6d8c4499da82ed45438f340">00016</a> <span class="preprocessor"></span><span class="preprocessor">#define MOVE_TRANSITION_TIME 0.25f</span>
<a name="l00017"></a>00017 <span class="preprocessor"></span>
<a name="l00018"></a>00018 
<a name="l00019"></a><a class="code" href="_tiny_8h.html#467f5c5aca93b7b61c7e2731c197f110">00019</a> <span class="keyword">typedef</span> std::basic_string &lt;TCHAR&gt;   <a class="code" href="_tiny_8h.html#467f5c5aca93b7b61c7e2731c197f110">String</a>;
<a name="l00020"></a>00020 
<a name="l00021"></a>00021 
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 
<a name="l00024"></a><a class="code" href="_tiny_8h.html#f642dfce3ce92ab9cf68e89fa56c5da3">00024</a> <span class="preprocessor">#define ANIMINDEX_FAIL      0xffffffff</span>
<a name="l00025"></a><a class="code" href="_tiny_8h.html#f53f3dfc5dcfb54bbd83bbca333bd57c">00025</a> <span class="preprocessor"></span><span class="preprocessor">#define FOOTFALLSOUND00     L"footfall00.wav"</span>
<a name="l00026"></a><a class="code" href="_tiny_8h.html#c7e853e1957433f9228299da6424488b">00026</a> <span class="preprocessor"></span><span class="preprocessor">#define FOOTFALLSOUND01     L"footfall01.wav"</span>
<a name="l00027"></a>00027 <span class="preprocessor"></span>
<a name="l00028"></a>00028 
<a name="l00029"></a>00029 <span class="keyword">extern</span> <a class="code" href="class_c_sound.html">CSound</a>*                      <a class="code" href="_tiny_8cpp.html#98fd1d443e0e3b10bcbb346254ca7e6f">g_apSoundsTiny</a>[ 2 ];
<a name="l00030"></a>00030 
<a name="l00031"></a>00031 
<a name="l00032"></a>00032 
<a name="l00033"></a>00033 
<a name="l00034"></a>00034 <span class="comment">// Callback data for pass to the callback handler</span>
<a name="l00035"></a><a class="code" href="struct_callback_data_tiny.html">00035</a> <span class="keyword">struct </span><a class="code" href="struct_callback_data_tiny.html">CallbackDataTiny</a>
<a name="l00036"></a>00036 {
<a name="l00037"></a><a class="code" href="struct_callback_data_tiny.html#0903a7c15be4a0769a28800eb1729a85">00037</a>     <a class="code" href="_d_x_u_tmisc_8cpp.html#50e15ae51c87ae06ab29c8148cb5f36c">DWORD</a> <a class="code" href="struct_callback_data_tiny.html#0903a7c15be4a0769a28800eb1729a85">m_dwFoot</a>;       <span class="comment">// Identify which foot caused the callback</span>
<a name="l00038"></a><a class="code" href="struct_callback_data_tiny.html#1fa5071246997a6b7419caeee0ffbfe6">00038</a>     D3DXVECTOR3* <a class="code" href="struct_callback_data_tiny.html#1fa5071246997a6b7419caeee0ffbfe6">m_pvCameraPos</a>;  <span class="comment">// Camera position when callback happened</span>
<a name="l00039"></a><a class="code" href="struct_callback_data_tiny.html#36cfe2e0792a3a198c631d1682a15328">00039</a>     D3DXVECTOR3* <a class="code" href="struct_callback_data_tiny.html#36cfe2e0792a3a198c631d1682a15328">m_pvTinyPos</a>;    <span class="comment">// Tiny's position when callback happened</span>
<a name="l00040"></a>00040 };
<a name="l00041"></a>00041 
<a name="l00042"></a>00042 
<a name="l00043"></a>00043 
<a name="l00044"></a>00044 
<a name="l00045"></a>00045 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00046"></a>00046 <span class="comment">// Name: class CBHandlerTiny</span>
<a name="l00047"></a>00047 <span class="comment">// Desc: Derived from ID3DXAnimationCallbackHandler.  Callback handler for</span>
<a name="l00048"></a>00048 <span class="comment">//       CTiny -- plays the footstep sounds</span>
<a name="l00049"></a>00049 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00050"></a><a class="code" href="class_c_b_handler_tiny.html">00050</a> <span class="keyword">class </span><a class="code" href="class_c_b_handler_tiny.html">CBHandlerTiny</a> :
<a name="l00051"></a>00051 <span class="keyword">public</span> ID3DXAnimationCallbackHandler
<a name="l00052"></a>00052 {
<a name="l00053"></a>00053     <a class="code" href="_d_x_u_tmisc_8cpp.html#e9905dd312196943149d3fe63480cd02">HRESULT</a> CALLBACK HandleCallback( THIS_ <a class="code" href="_d_x_u_tmisc_8cpp.html#cc62206430baf174f43edb2b0a26ffd0">UINT</a> Track, LPVOID pCallbackData )
<a name="l00054"></a>00054     {
<a name="l00055"></a>00055         <a class="code" href="struct_callback_data_tiny.html">CallbackDataTiny</a>* pCD = ( <a class="code" href="struct_callback_data_tiny.html">CallbackDataTiny</a>* )pCallbackData;
<a name="l00056"></a>00056 
<a name="l00057"></a>00057         <span class="comment">// this is set to NULL if we're not playing sounds</span>
<a name="l00058"></a>00058         <span class="keywordflow">if</span>( <span class="comment">/*fornow*/</span> !pCD || !pCD-&gt;<a class="code" href="struct_callback_data_tiny.html#1fa5071246997a6b7419caeee0ffbfe6">m_pvCameraPos</a> )
<a name="l00059"></a>00059             <span class="keywordflow">return</span> S_OK;
<a name="l00060"></a>00060 
<a name="l00061"></a>00061         <span class="comment">// scale volume by distance from tiny</span>
<a name="l00062"></a>00062         D3DXVECTOR3 vDiff;
<a name="l00063"></a>00063         D3DXVec3Subtract( &amp;vDiff, pCD-&gt;<a class="code" href="struct_callback_data_tiny.html#1fa5071246997a6b7419caeee0ffbfe6">m_pvCameraPos</a>, pCD-&gt;<a class="code" href="struct_callback_data_tiny.html#36cfe2e0792a3a198c631d1682a15328">m_pvTinyPos</a> );
<a name="l00064"></a>00064         <span class="keywordtype">float</span> fVolume = min( D3DXVec3LengthSq( &amp;vDiff ), 1.f );
<a name="l00065"></a>00065         fVolume *= -3000.f;
<a name="l00066"></a>00066 
<a name="l00067"></a>00067         <span class="comment">// play the sound</span>
<a name="l00068"></a>00068         <span class="keywordflow">if</span>( pCD &amp;&amp; g_apSoundsTiny[ pCD-&gt;<a class="code" href="struct_callback_data_tiny.html#0903a7c15be4a0769a28800eb1729a85">m_dwFoot</a> ] )
<a name="l00069"></a>00069             g_apSoundsTiny[ pCD-&gt;<a class="code" href="struct_callback_data_tiny.html#0903a7c15be4a0769a28800eb1729a85">m_dwFoot</a> ]-&gt;<a class="code" href="class_c_sound.html#9c0e5e3cf50601f679d17a38036cef14">Play</a>( 0, 0, ( LONG )fVolume );
<a name="l00070"></a>00070 
<a name="l00071"></a>00071         <span class="keywordflow">return</span> S_OK;
<a name="l00072"></a>00072     }
<a name="l00073"></a>00073 };
<a name="l00074"></a>00074 
<a name="l00075"></a>00075 
<a name="l00076"></a>00076 
<a name="l00077"></a>00077 
<a name="l00078"></a>00078 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00079"></a>00079 <span class="comment">// Name: class CTiny</span>
<a name="l00080"></a>00080 <span class="comment">// Desc: This is the character class. It handles character behaviors and the</span>
<a name="l00081"></a>00081 <span class="comment">//       the associated animations.</span>
<a name="l00082"></a>00082 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00083"></a><a class="code" href="class_c_tiny.html">00083</a> <span class="keyword">class </span><a class="code" href="class_c_tiny.html">CTiny</a>
<a name="l00084"></a>00084 {
<a name="l00085"></a>00085 
<a name="l00086"></a>00086 <span class="keyword">protected</span>:
<a name="l00087"></a>00087 
<a name="l00088"></a>00088     <span class="comment">// -- data structuring</span>
<a name="l00089"></a><a class="code" href="class_c_tiny.html#b31c2f1d788d2773117b5d0ba0122244">00089</a>     <a class="code" href="class_c_multi_anim.html">CMultiAnim</a>* <a class="code" href="class_c_tiny.html#b31c2f1d788d2773117b5d0ba0122244">m_pMA</a>;               <span class="comment">// pointer to mesh-type-specific object</span>
<a name="l00090"></a><a class="code" href="class_c_tiny.html#28db0bf865022cb5345d33f8f3947d4b">00090</a>     <a class="code" href="_d_x_u_tmisc_8cpp.html#50e15ae51c87ae06ab29c8148cb5f36c">DWORD</a> <a class="code" href="class_c_tiny.html#28db0bf865022cb5345d33f8f3947d4b">m_dwMultiAnimIdx</a>;    <span class="comment">// index identifying which CAnimInstance this object uses</span>
<a name="l00091"></a><a class="code" href="class_c_tiny.html#35eaf68d59fe2cfef90b482ed0488dd8">00091</a>     <a class="code" href="class_c_anim_instance.html">CAnimInstance</a>* <a class="code" href="class_c_tiny.html#35eaf68d59fe2cfef90b482ed0488dd8">m_pAI</a>;               <span class="comment">// pointer to CAnimInstance specific to this object</span>
<a name="l00092"></a><a class="code" href="class_c_tiny.html#ece948e1c8872a91721c8e6a6d935b22">00092</a>     std::vector &lt;CTiny*&gt;* <a class="code" href="class_c_tiny.html#ece948e1c8872a91721c8e6a6d935b22">m_pv_pChars</a>;         <span class="comment">// pointer to global array of CTiny* s</span>
<a name="l00093"></a><a class="code" href="class_c_tiny.html#f5dc9e88e5903450c585626820ccfde4">00093</a>     <a class="code" href="class_c_sound_manager.html">CSoundManager</a>* <a class="code" href="class_c_tiny.html#f5dc9e88e5903450c585626820ccfde4">m_pSM</a>;               <span class="comment">// pointer to sound management interface</span>
<a name="l00094"></a><a class="code" href="class_c_tiny.html#edd9b654a018df699223dec1b141cce0">00094</a>     <a class="code" href="_d_x_u_tmisc_8cpp.html#50e15ae51c87ae06ab29c8148cb5f36c">DWORD</a> <a class="code" href="class_c_tiny.html#edb19bdca40b7f71780f48024be1a23c">m_dwAnimIdxLoiter</a>,   <span class="comment">// Indexes of various animation sets</span>
<a name="l00095"></a>00095         <a class="code" href="class_c_tiny.html#edd9b654a018df699223dec1b141cce0">m_dwAnimIdxWalk</a>,
<a name="l00096"></a>00096         <a class="code" href="class_c_tiny.html#89600104c34545f76995ce9ed54b2402">m_dwAnimIdxJog</a>;
<a name="l00097"></a><a class="code" href="class_c_tiny.html#8d69f5762cc567e7acead6132e582910">00097</a>     <a class="code" href="struct_callback_data_tiny.html">CallbackDataTiny</a>    <a class="code" href="class_c_tiny.html#8d69f5762cc567e7acead6132e582910">m_CallbackData</a>[ 2 ]; <span class="comment">// Data to pass to callback handler</span>
<a name="l00098"></a>00098 
<a name="l00099"></a>00099     <span class="comment">// operational status</span>
<a name="l00100"></a><a class="code" href="class_c_tiny.html#79a98dbb5c02640fb80d4f9d94bdef6a">00100</a>     <span class="keywordtype">double</span> <a class="code" href="class_c_tiny.html#79a98dbb5c02640fb80d4f9d94bdef6a">m_dTimePrev</a>;         <span class="comment">// global time value before last update</span>
<a name="l00101"></a><a class="code" href="class_c_tiny.html#174e1011734b347d4d64755d4554b23e">00101</a>     <span class="keywordtype">double</span> <a class="code" href="class_c_tiny.html#174e1011734b347d4d64755d4554b23e">m_dTimeCurrent</a>;      <span class="comment">// current global time value</span>
<a name="l00102"></a><a class="code" href="class_c_tiny.html#b9ba5a7276e2ab69199ae5c3e79b6ff6">00102</a>     <span class="keywordtype">bool</span> <a class="code" href="class_c_tiny.html#b9ba5a7276e2ab69199ae5c3e79b6ff6">m_bUserControl</a>;      <span class="comment">// true == user is controling character with the keyboard</span>
<a name="l00103"></a><a class="code" href="class_c_tiny.html#50fbe79a6db842a060d5cf7960f4dac2">00103</a>     <span class="keywordtype">bool</span> <a class="code" href="class_c_tiny.html#50fbe79a6db842a060d5cf7960f4dac2">m_bPlaySounds</a>;       <span class="comment">// true == this instance is playing sounds</span>
<a name="l00104"></a><a class="code" href="class_c_tiny.html#f7dce5b2468f35c8cf2f6dd9b825e70f">00104</a>     <a class="code" href="_d_x_u_tmisc_8cpp.html#50e15ae51c87ae06ab29c8148cb5f36c">DWORD</a> <a class="code" href="class_c_tiny.html#f7dce5b2468f35c8cf2f6dd9b825e70f">m_dwCurrentTrack</a>;    <span class="comment">// current animation track for primary animation</span>
<a name="l00105"></a>00105 
<a name="l00106"></a>00106     <span class="comment">// character traits</span>
<a name="l00107"></a><a class="code" href="class_c_tiny.html#09c95707a6371ca1883a5e0669e40774">00107</a>     <span class="keywordtype">float</span> <a class="code" href="class_c_tiny.html#09c95707a6371ca1883a5e0669e40774">m_fSpeed</a>;            <span class="comment">// character's movement speed -- in units/second</span>
<a name="l00108"></a><a class="code" href="class_c_tiny.html#37c046ff46d5e7b9390911fd0f2c6014">00108</a>     <span class="keywordtype">float</span> <a class="code" href="class_c_tiny.html#37c046ff46d5e7b9390911fd0f2c6014">m_fSpeedTurn</a>;        <span class="comment">// character's turning speed -- in radians/second</span>
<a name="l00109"></a>00109     ID3DXAnimationCallbackHandler*
<a name="l00110"></a><a class="code" href="class_c_tiny.html#2d170342097085bf288390f8d10268c8">00110</a>         <a class="code" href="class_c_tiny.html#2d170342097085bf288390f8d10268c8">m_pCallbackHandler</a>;  <span class="comment">// pointer to callback inteface to handle callback keys</span>
<a name="l00111"></a><a class="code" href="class_c_tiny.html#0fae4aa48673ae2984a9c4a3cda67eaf">00111</a>     D3DXMATRIX <a class="code" href="class_c_tiny.html#0fae4aa48673ae2984a9c4a3cda67eaf">m_mxOrientation</a>;     <span class="comment">// transform that gets the mesh into a common world space</span>
<a name="l00112"></a><a class="code" href="class_c_tiny.html#4cae4c88ae5113f52f91032e20ac57ca">00112</a>     <span class="keywordtype">float</span> <a class="code" href="class_c_tiny.html#4cae4c88ae5113f52f91032e20ac57ca">m_fPersonalRadius</a>;   <span class="comment">// personal space radius -- things can't get closer than this</span>
<a name="l00113"></a>00113     <span class="comment">// (note that no height information is given--not necessary for this sample)</span>
<a name="l00114"></a>00114     <span class="comment">// character status</span>
<a name="l00115"></a><a class="code" href="class_c_tiny.html#c257123abdfcc9d75de228578c288297">00115</a>     D3DXVECTOR3 <a class="code" href="class_c_tiny.html#c257123abdfcc9d75de228578c288297">m_vPos</a>;              <span class="comment">// current position in the map -- in our sample, y is always == 0</span>
<a name="l00116"></a><a class="code" href="class_c_tiny.html#4a8ec365358cdef9342c81fb7554bf6b">00116</a>     <span class="keywordtype">float</span> <a class="code" href="class_c_tiny.html#4a8ec365358cdef9342c81fb7554bf6b">m_fFacing</a>;           <span class="comment">// current direction the character is facing -- in our sample, it's 2D only</span>
<a name="l00117"></a><a class="code" href="class_c_tiny.html#5d0c03a3e27456ff3a62b52b77969a43">00117</a>     D3DXVECTOR3 <a class="code" href="class_c_tiny.html#5d0c03a3e27456ff3a62b52b77969a43">m_vPosTarget</a>;        <span class="comment">// This indicates where we are moving to</span>
<a name="l00118"></a><a class="code" href="class_c_tiny.html#ec7f562d0227ec57de794f0d8e958ff4">00118</a>     <span class="keywordtype">float</span> <a class="code" href="class_c_tiny.html#ec7f562d0227ec57de794f0d8e958ff4">m_fFacingTarget</a>;     <span class="comment">// The direction from Tiny's current position to the final destination</span>
<a name="l00119"></a><a class="code" href="class_c_tiny.html#762bd600b260707b2f0cab3ae29d6b7f">00119</a>     <span class="keywordtype">float</span> <a class="code" href="class_c_tiny.html#762bd600b260707b2f0cab3ae29d6b7f">m_fSpeedWalk</a>;
<a name="l00120"></a><a class="code" href="class_c_tiny.html#3af090b93d4e61655bfc063c084a6f9c">00120</a>     <span class="keywordtype">float</span> <a class="code" href="class_c_tiny.html#3af090b93d4e61655bfc063c084a6f9c">m_fSpeedJog</a>;
<a name="l00121"></a><a class="code" href="class_c_tiny.html#7d7045b2bc86b5c842733d62ead922ac">00121</a>     <span class="keywordtype">bool</span> <a class="code" href="class_c_tiny.html#7d7045b2bc86b5c842733d62ead922ac">m_bIdle</a>;             <span class="comment">// set when Tiny is idling -- not turning toward a target</span>
<a name="l00122"></a><a class="code" href="class_c_tiny.html#cd418cf3aef0336f7eb9b4d6dd8104eb">00122</a>     <span class="keywordtype">bool</span> <a class="code" href="class_c_tiny.html#cd418cf3aef0336f7eb9b4d6dd8104eb">m_bWaiting</a>;          <span class="comment">// set when Tiny is not idle, but cannot move</span>
<a name="l00123"></a><a class="code" href="class_c_tiny.html#c9030d2d734b6b369908dea58589954d">00123</a>     <span class="keywordtype">double</span> <a class="code" href="class_c_tiny.html#c9030d2d734b6b369908dea58589954d">m_dTimeIdling</a>;       <span class="comment">// countdown - Tiny Idles til this goes &lt; 0</span>
<a name="l00124"></a><a class="code" href="class_c_tiny.html#c6843326f594d4fddeba6904bb538e46">00124</a>     <span class="keywordtype">double</span> <a class="code" href="class_c_tiny.html#c6843326f594d4fddeba6904bb538e46">m_dTimeWaiting</a>;      <span class="comment">// countdown - Tiny is waiting til this goes &lt; 0, then picks a new target</span>
<a name="l00125"></a><a class="code" href="class_c_tiny.html#f4a5c842d14d92e50ca900e495e46180">00125</a>     <span class="keywordtype">double</span> <a class="code" href="class_c_tiny.html#f4a5c842d14d92e50ca900e495e46180">m_dTimeBlocked</a>;      <span class="comment">// countdown - Tiny must wait a small time when encountering a blocker before starting to walk again</span>
<a name="l00126"></a>00126 
<a name="l00127"></a><a class="code" href="class_c_tiny.html#3e34570909819546205e5b873a74a7da">00127</a>     <span class="keywordtype">char</span>                <a class="code" href="class_c_tiny.html#3e34570909819546205e5b873a74a7da">m_szASName</a>[64];      <span class="comment">// Current track's animation set name (for preserving across device reset)</span>
<a name="l00128"></a>00128 
<a name="l00129"></a>00129 <span class="keyword">public</span>:
<a name="l00130"></a>00130 
<a name="l00131"></a>00131                         <a class="code" href="class_c_tiny.html#3020c14934edf3505720a980ba4312e6">CTiny</a>();
<a name="l00132"></a>00132     <span class="keyword">virtual</span>             <a class="code" href="class_c_tiny.html#ef648e5bde0714e42df8d4afec6b5be6">~CTiny</a>();
<a name="l00133"></a>00133     <span class="keyword">virtual</span> <a class="code" href="_d_x_u_tmisc_8cpp.html#e9905dd312196943149d3fe63480cd02">HRESULT</a>     <a class="code" href="class_c_tiny.html#c7ecbb5bcf1f0038af31496984b9cba8">Setup</a>( <a class="code" href="class_c_multi_anim.html">CMultiAnim</a>* pMA, std::vector &lt;CTiny*&gt;* pv_pChars, <a class="code" href="class_c_sound_manager.html">CSoundManager</a>* pSM,
<a name="l00134"></a>00134                                <span class="keywordtype">double</span> dTimeCurrent );
<a name="l00135"></a>00135     <span class="keyword">virtual</span> <span class="keywordtype">void</span>        <a class="code" href="class_c_tiny.html#4550ea431eac29bf1c3a25db3365c356">Cleanup</a>();
<a name="l00136"></a>00136     <span class="keyword">virtual</span> <a class="code" href="class_c_anim_instance.html">CAnimInstance</a>* <a class="code" href="class_c_tiny.html#c4cdd486120881ecfd45161bf6271982">GetAnimInstance</a>();
<a name="l00137"></a>00137     <span class="keywordtype">void</span>                <a class="code" href="class_c_tiny.html#5b34692f34ee7069211796a1b8bbe4f6">GetPosition</a>( D3DXVECTOR3* pV );
<a name="l00138"></a>00138     <span class="keywordtype">void</span>                <a class="code" href="class_c_tiny.html#04e9be4f5b8b2da2d9512c1f09bfd05b">GetFacing</a>( D3DXVECTOR3* pV );
<a name="l00139"></a>00139     <span class="keyword">virtual</span> <span class="keywordtype">void</span>        <a class="code" href="class_c_tiny.html#a924a8df6bcbb8b2b40a0fdfdda5a712">Animate</a>( <span class="keywordtype">double</span> dTimeDelta );
<a name="l00140"></a>00140     <span class="keyword">virtual</span> <a class="code" href="_d_x_u_tmisc_8cpp.html#e9905dd312196943149d3fe63480cd02">HRESULT</a>     <a class="code" href="class_c_tiny.html#bb9b7b2e92375776582d60e7c6c3eeb0">ResetTime</a>();
<a name="l00141"></a>00141     <span class="keyword">virtual</span> <a class="code" href="_d_x_u_tmisc_8cpp.html#e9905dd312196943149d3fe63480cd02">HRESULT</a>     <a class="code" href="class_c_tiny.html#6c14fb84344bee526803dee4cf2ed07c">AdvanceTime</a>( <span class="keywordtype">double</span> dTimeDelta, D3DXVECTOR3* pvEye );
<a name="l00142"></a>00142     <span class="keyword">virtual</span> <a class="code" href="_d_x_u_tmisc_8cpp.html#e9905dd312196943149d3fe63480cd02">HRESULT</a>     <a class="code" href="class_c_tiny.html#bd5062c286fba72ed40662cee2581154">Draw</a>();
<a name="l00143"></a>00143     <span class="keyword">virtual</span> <span class="keywordtype">void</span>        <a class="code" href="class_c_tiny.html#a669aa816c0d3a846b607ecab9cddbe9">Report</a>( std::vector &lt;String&gt;&amp; v_sReport );
<a name="l00144"></a>00144     <span class="keyword">virtual</span> <span class="keywordtype">void</span>        <a class="code" href="class_c_tiny.html#b9cbb31ffb4c2560d107e8c05cbcaea7">SetUserControl</a>();
<a name="l00145"></a>00145     <span class="keyword">virtual</span> <span class="keywordtype">void</span>        <a class="code" href="class_c_tiny.html#e49f207db3affff245aee1efd498f45d">SetAutoControl</a>();
<a name="l00146"></a><a class="code" href="class_c_tiny.html#517a9451e07716f2ab68ba7db26cc12a">00146</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span>        <a class="code" href="class_c_tiny.html#517a9451e07716f2ab68ba7db26cc12a">IsUserControl</a>()
<a name="l00147"></a>00147     {
<a name="l00148"></a>00148         <span class="keywordflow">return</span> <a class="code" href="class_c_tiny.html#b9ba5a7276e2ab69199ae5c3e79b6ff6">m_bUserControl</a>;
<a name="l00149"></a>00149     }
<a name="l00150"></a>00150     <span class="keyword">virtual</span> <span class="keywordtype">void</span>        <a class="code" href="class_c_tiny.html#8a37e36a2dd88d45529cc7bedac05559">SetSounds</a>( <span class="keywordtype">bool</span> bSounds );
<a name="l00151"></a>00151     <span class="keyword">virtual</span> <span class="keywordtype">void</span>        <a class="code" href="class_c_tiny.html#747c09fe981e4f6af9ff992070609bd1">ChooseNewLocation</a>( D3DXVECTOR3* pV );
<a name="l00152"></a>00152 
<a name="l00153"></a>00153     <a class="code" href="_d_x_u_tmisc_8cpp.html#e9905dd312196943149d3fe63480cd02">HRESULT</a>             <a class="code" href="class_c_tiny.html#e7e495eb594364f45da2d631cb91e757">RestoreDeviceObjects</a>( LPDIRECT3DDEVICE9 pd3dDevice );
<a name="l00154"></a>00154     <a class="code" href="_d_x_u_tmisc_8cpp.html#e9905dd312196943149d3fe63480cd02">HRESULT</a>             <a class="code" href="class_c_tiny.html#82e91fa32efb58070895edc59615438f">InvalidateDeviceObjects</a>();
<a name="l00155"></a>00155 
<a name="l00156"></a>00156 <span class="keyword">protected</span>:      <span class="comment">// ************ The following are not callable by the app -- internal stuff</span>
<a name="l00157"></a>00157 
<a name="l00158"></a>00158     <span class="keywordtype">bool</span>                <a class="code" href="class_c_tiny.html#1ba585e39e21c0022861ae3ba98a6533">IsBlockedByCharacter</a>( D3DXVECTOR3* pV );
<a name="l00159"></a>00159     <a class="code" href="_d_x_u_tmisc_8cpp.html#50e15ae51c87ae06ab29c8148cb5f36c">DWORD</a>               <a class="code" href="class_c_tiny.html#44ea178a122d71ae4d4513ec94dcd975">GetAnimIndex</a>( <span class="keywordtype">char</span> sString[] );
<a name="l00160"></a>00160     <a class="code" href="_d_x_u_tmisc_8cpp.html#e9905dd312196943149d3fe63480cd02">HRESULT</a>             <a class="code" href="class_c_tiny.html#ca2db98e5bf7bac2d90e48da4bb2261c">AddCallbackKeysAndCompress</a>( LPD3DXANIMATIONCONTROLLER pAC, LPD3DXKEYFRAMEDANIMATIONSET pAS,
<a name="l00161"></a>00161                                                     <a class="code" href="_d_x_u_tmisc_8cpp.html#50e15ae51c87ae06ab29c8148cb5f36c">DWORD</a> dwNumCallbackKeys, D3DXKEY_CALLBACK aKeys[],
<a name="l00162"></a>00162                                                     <a class="code" href="_d_x_u_tmisc_8cpp.html#50e15ae51c87ae06ab29c8148cb5f36c">DWORD</a> dwCompressionFlags, FLOAT fCompression );
<a name="l00163"></a>00163     <a class="code" href="_d_x_u_tmisc_8cpp.html#e9905dd312196943149d3fe63480cd02">HRESULT</a>             <a class="code" href="class_c_tiny.html#549db266c4f0564526714bd617b7698b">SetupCallbacksAndCompression</a>();
<a name="l00164"></a>00164     <span class="keywordtype">void</span>                <a class="code" href="class_c_tiny.html#a92f454c34aea7c4bf13ebb0779779de">SmoothLoiter</a>();
<a name="l00165"></a>00165     <span class="keywordtype">void</span>                <a class="code" href="class_c_tiny.html#bb3fc516af9a0b2b8c4578d3d3766e9e">SetNewTarget</a>();
<a name="l00166"></a>00166     <span class="keywordtype">double</span>              <a class="code" href="class_c_tiny.html#51dce2fe3fd0fbaeaae42a2164eef7d1">GetSpeedScale</a>();
<a name="l00167"></a>00167     <span class="keywordtype">void</span>                <a class="code" href="class_c_tiny.html#b52c18d779ccceba9e9e9e1fa2170e02">AnimateUserControl</a>( <span class="keywordtype">double</span> dTimeDelta );
<a name="l00168"></a>00168     <span class="keywordtype">void</span>                <a class="code" href="class_c_tiny.html#d8c39dd23ae7762bc781e07314bc7457">AnimateIdle</a>( <span class="keywordtype">double</span> dTimeDelta );
<a name="l00169"></a>00169     <span class="keywordtype">void</span>                <a class="code" href="class_c_tiny.html#986c60d69b42ad537bc86c9d857be6a4">AnimateMoving</a>( <span class="keywordtype">double</span> dTimeDelta );
<a name="l00170"></a>00170     <span class="keywordtype">void</span>                <a class="code" href="class_c_tiny.html#b7f1257a205b2a35a72af93ee45dde0f">ComputeFacingTarget</a>();
<a name="l00171"></a>00171     <span class="keywordtype">void</span>                <a class="code" href="class_c_tiny.html#e8636e64d0305e5eec2db61f6736c767">SetIdleState</a>();
<a name="l00172"></a>00172     <span class="keywordtype">void</span>                <a class="code" href="class_c_tiny.html#c5ab2bc5d8e7c09a986311fca4a730e8">SetSeekingState</a>();
<a name="l00173"></a>00173     <span class="keywordtype">void</span>                <a class="code" href="class_c_tiny.html#c3d7129891a6ef8d950cfca57f189ab9">SetMoveKey</a>();
<a name="l00174"></a>00174     <span class="keywordtype">void</span>                <a class="code" href="class_c_tiny.html#6177aa5dbf96d12adc2abf4afee8702c">SetIdleKey</a>( <span class="keywordtype">bool</span> bResetPosition );
<a name="l00175"></a>00175     <span class="keyword">virtual</span> <span class="keywordtype">bool</span>        <a class="code" href="class_c_tiny.html#bb78f2c7fd4024be1b7535c5999327eb">IsOutOfBounds</a>( D3DXVECTOR3* pV );
<a name="l00176"></a>00176 };
<a name="l00177"></a>00177 
<a name="l00178"></a>00178 
<a name="l00179"></a>00179 
<a name="l00180"></a>00180 <span class="preprocessor">#endif // #ifndef TINY_H</span>
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Sat Apr 18 14:13:37 2009 for MultiAnimTest by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
